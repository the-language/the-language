<?php
$LANG_ERROR=function(...$xs){return call_user_func_array(LANG_ERROR,$xs);};
$LANG_ASSERT=function(...$xs){return call_user_func_array(LANG_ASSERT,$xs);};
$new_comment=function(...$xs){return call_user_func_array(new_comment,$xs);};
$comment_p=function(...$xs){return call_user_func_array(comment_p,$xs);};
$comment_comment=function(...$xs){return call_user_func_array(comment_comment,$xs);};
$comment_x=function(...$xs){return call_user_func_array(comment_x,$xs);};
$un_comment_all=function(...$xs){return call_user_func_array(un_comment_all,$xs);};
$can_new_symbol_unicodechar_p=function(...$xs){return call_user_func_array(can_new_symbol_unicodechar_p,$xs);};
$new_symbol_unicodechar=function(...$xs){return call_user_func_array(new_symbol_unicodechar,$xs);};
$symbol_p=function(...$xs){return call_user_func_array(symbol_p,$xs);};
$un_symbol_unicodechar=function(...$xs){return call_user_func_array(un_symbol_unicodechar,$xs);};
$can_new_symbol_p=function(...$xs){return call_user_func_array(can_new_symbol_p,$xs);};
$new_symbol=function(...$xs){return call_user_func_array(new_symbol,$xs);};
$un_symbol=function(...$xs){return call_user_func_array(un_symbol,$xs);};
$new_construction=function(...$xs){return call_user_func_array(new_construction,$xs);};
$construction_p=function(...$xs){return call_user_func_array(construction_p,$xs);};
$construction_head=function(...$xs){return call_user_func_array(construction_head,$xs);};
$construction_tail=function(...$xs){return call_user_func_array(construction_tail,$xs);};
$null_p=function(...$xs){return call_user_func_array(null_p,$xs);};
$new_data=function(...$xs){return call_user_func_array(new_data,$xs);};
$data_p=function(...$xs){return call_user_func_array(data_p,$xs);};
$data_name=function(...$xs){return call_user_func_array(data_name,$xs);};
$data_list=function(...$xs){return call_user_func_array(data_list,$xs);};
$new_error=function(...$xs){return call_user_func_array(new_error,$xs);};
$error_p=function(...$xs){return call_user_func_array(error_p,$xs);};
$error_name=function(...$xs){return call_user_func_array(error_name,$xs);};
$error_list=function(...$xs){return call_user_func_array(error_list,$xs);};
$just_p=function(...$xs){return call_user_func_array(just_p,$xs);};
$un_just=function(...$xs){return call_user_func_array(un_just,$xs);};
$evaluate=function(...$xs){return call_user_func_array(evaluate,$xs);};
$delay_evaluate_p=function(...$xs){return call_user_func_array(delay_evaluate_p,$xs);};
$delay_evaluate_env=function(...$xs){return call_user_func_array(delay_evaluate_env,$xs);};
$delay_evaluate_x=function(...$xs){return call_user_func_array(delay_evaluate_x,$xs);};
$builtin_form_apply=function(...$xs){return call_user_func_array(builtin_form_apply,$xs);};
$delay_builtin_form_p=function(...$xs){return call_user_func_array(delay_builtin_form_p,$xs);};
$delay_builtin_form_env=function(...$xs){return call_user_func_array(delay_builtin_form_env,$xs);};
$delay_builtin_form_f=function(...$xs){return call_user_func_array(delay_builtin_form_f,$xs);};
$delay_builtin_form_xs=function(...$xs){return call_user_func_array(delay_builtin_form_xs,$xs);};
$builtin_func_apply=function(...$xs){return call_user_func_array(builtin_func_apply,$xs);};
$delay_builtin_func_p=function(...$xs){return call_user_func_array(delay_builtin_func_p,$xs);};
$delay_builtin_func_f=function(...$xs){return call_user_func_array(delay_builtin_func_f,$xs);};
$delay_builtin_func_xs=function(...$xs){return call_user_func_array(delay_builtin_func_xs,$xs);};
$apply=function(...$xs){return call_user_func_array(apply,$xs);};
$delay_apply_p=function(...$xs){return call_user_func_array(delay_apply_p,$xs);};
$delay_apply_f=function(...$xs){return call_user_func_array(delay_apply_f,$xs);};
$delay_apply_xs=function(...$xs){return call_user_func_array(delay_apply_xs,$xs);};
$force_all_rec=function(...$xs){return call_user_func_array(force_all_rec,$xs);};
$force_uncomment_all_rec=function(...$xs){return call_user_func_array(force_uncomment_all_rec,$xs);};
$new_hole_do=function(...$xs){return call_user_func_array(new_hole_do,$xs);};
$hole_p=function(...$xs){return call_user_func_array(hole_p,$xs);};
$lang_set_do=function(...$xs){return call_user_func_array(lang_set_do,$xs);};
$hole_set_do=function(...$xs){return call_user_func_array(hole_set_do,$xs);};
$lang_copy_do=function(...$xs){return call_user_func_array(lang_copy_do,$xs);};
$systemName_make=function(...$xs){return call_user_func_array(systemName_make,$xs);};
$make_builtin_f_new_sym_f=function(...$xs){return call_user_func_array(make_builtin_f_new_sym_f,$xs);};
$make_builtin_f_get_sym_f=function(...$xs){return call_user_func_array(make_builtin_f_get_sym_f,$xs);};
$make_builtin_f_p_sym_f=function(...$xs){return call_user_func_array(make_builtin_f_p_sym_f,$xs);};
$symbol_equal_p=function(...$xs){return call_user_func_array(symbol_equal_p,$xs);};
$jsArray_to_list=function(...$xs){return call_user_func_array(jsArray_to_list,$xs);};
$list_to_jsArray=function(...$xs){return call_user_func_array(list_to_jsArray,$xs);};
$maybe_list_to_jsArray=function(...$xs){return call_user_func_array(maybe_list_to_jsArray,$xs);};
$new_list=function(...$xs){return call_user_func_array(new_list,$xs);};
$un_just_all=function(...$xs){return call_user_func_array(un_just_all,$xs);};
$un_just_comment_all=function(...$xs){return call_user_func_array(un_just_comment_all,$xs);};
$any_delay_p=function(...$xs){return call_user_func_array(any_delay_p,$xs);};
$any_delay_just_p=function(...$xs){return call_user_func_array(any_delay_just_p,$xs);};
$any_delay2delay_evaluate=function(...$xs){return call_user_func_array(any_delay2delay_evaluate,$xs);};
$any_delay_env=function(...$xs){return call_user_func_array(any_delay_env,$xs);};
$any_delay_x=function(...$xs){return call_user_func_array(any_delay_x,$xs);};
$force_all=function(...$xs){return call_user_func_array(force_all,$xs);};
$force1=function(...$xs){return call_user_func_array(force1,$xs);};
$force_all_export=function(...$xs){return call_user_func_array(force_all_export,$xs);};
$force_uncomment_all=function(...$xs){return call_user_func_array(force_uncomment_all,$xs);};
$force_uncomment1=function(...$xs){return call_user_func_array(force_uncomment1,$xs);};
$env_set=function(...$xs){return call_user_func_array(env_set,$xs);};
$env_get=function(...$xs){return call_user_func_array(env_get,$xs);};
$must_env_get=function(...$xs){return call_user_func_array(must_env_get,$xs);};
$env2val=function(...$xs){return call_user_func_array(env2val,$xs);};
$env_foreach=function(...$xs){return call_user_func_array(env_foreach,$xs);};
$val2env=function(...$xs){return call_user_func_array(val2env,$xs);};
$real_evaluate=function(...$xs){return call_user_func_array(real_evaluate,$xs);};
$name_p=function(...$xs){return call_user_func_array(name_p,$xs);};
$make_builtin_p_func=function(...$xs){return call_user_func_array(make_builtin_p_func,$xs);};
$make_builtin_get_func=function(...$xs){return call_user_func_array(make_builtin_get_func,$xs);};
$real_apply=function(...$xs){return call_user_func_array(real_apply,$xs);};
$real_builtin_func_apply=function(...$xs){return call_user_func_array(real_builtin_func_apply,$xs);};
$real_builtin_form_apply=function(...$xs){return call_user_func_array(real_builtin_form_apply,$xs);};
$make_quote=function(...$xs){return call_user_func_array(make_quote,$xs);};
$new_lambda=function(...$xs){return call_user_func_array(new_lambda,$xs);};
$jsbool_equal_p=function(...$xs){return call_user_func_array(jsbool_equal_p,$xs);};
$jsbool_no_force_equal_p=function(...$xs){return call_user_func_array(jsbool_no_force_equal_p,$xs);};
$simple_print=function(...$xs){return call_user_func_array(simple_print,$xs);};
$simple_print_force_all_rec=function(...$xs){return call_user_func_array(simple_print_force_all_rec,$xs);};
$complex_parse=function(...$xs){return call_user_func_array(complex_parse,$xs);};
$complex_print=function(...$xs){return call_user_func_array(complex_print,$xs);};
$machinetext_parse=function(...$xs){return call_user_func_array(machinetext_parse,$xs);};
$machinetext_print=function(...$xs){return call_user_func_array(machinetext_print,$xs);};
$trampoline_return=function(...$xs){return call_user_func_array(trampoline_return,$xs);};
$trampoline_delay=function(...$xs){return call_user_func_array(trampoline_delay,$xs);};
$run_trampoline=function(...$xs){return call_user_func_array(run_trampoline,$xs);};
$new_effect_bind=function(...$xs){return call_user_func_array(new_effect_bind,$xs);};
$new_effect_return=function(...$xs){return call_user_func_array(new_effect_return,$xs);};
$run_monad_helper=function(...$xs){return call_user_func_array(run_monad_helper,$xs);};
$run_monad_trampoline=function(...$xs){return call_user_func_array(run_monad_trampoline,$xs);};
$run_monad_stackoverflow=function(...$xs){return call_user_func_array(run_monad_stackoverflow,$xs);};
$symbols_set_init=function(...$xs){return call_user_func_array(symbols_set_init,$xs);};
$symbols_set_neg_init=function(...$xs){return call_user_func_array(symbols_set_neg_init,$xs);};


/*
    The Language
    Copyright (C) 2018, 2019  Zaoqi <zaomir@outlook.com>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.

*/
function LANG_ERROR() {
	throw 'TheLanguage PANIC';
}
function LANG_ASSERT( $x ) {
	if ( !$x ) {
		return LANG_ERROR();
	}
}
// 用export{}，不用export const .../export function...，否則生成的ES3代碼內部使用exports，使其他代碼有能力破壞，而且性能不夠好
// {{{ 相對獨立的部分。UUC
$symbols_set = function () {
	$r = symbols_set_init();
	$symbols_set = function () use ( &$r ) {return  $r; };
	return $r;
};
$symbols_set_neg = function () {
	$r = symbols_set_neg_init();
	$symbols_set_neg = function () use ( &$r ) {return  $r; };
	return $r;
};
$symbol_t = 0; /* symbol_t */
$construction_t = 1; /* construction_t */
$null_t = 2; /* null_t */
$data_t = 3; /* data_t */
$error_t = 4; /* error_t */
$just_t = 5; /* just_t */
$delay_evaluate_t = 6; /* delay_evaluate_t */
$delay_builtin_func_t = 7; /* delay_builtin_func_t */
$delay_builtin_form_t = 8; /* delay_builtin_form_t */
$delay_apply_t = 9; /* delay_apply_t */
$comment_t = 11; /* comment_t */
$hole_t = 10; /* hole_t */
/* !!!Racket Code Generator!!! (string-append "// TEST Racket Code Generator 0\n"
"// TEST Racket Code Generator 1\n"
"// TEST Racket Code Generator 2\n") */
// !!!Generated by Racket!!! !!!BEGIN!!!
// TEST Racket Code Generator 0
// TEST Racket Code Generator 1
// TEST Racket Code Generator 2
// !!!Generated by Racket!!! !!!END!!!
function new_comment( $comment, $x ) {
	global $comment_t;
	return [ $comment_t, $comment, $x ];
}

function comment_p( $x ) {
	global $comment_t;
	return $x[ 0 ] === $comment_t;
}

function comment_comment( $x ) {
	return $x[ 1 ];
}

function comment_x( $x ) {
	return $x[ 2 ];
}

function un_comment_all( $x ) {
	while ( comment_p( $x ) ) {
		$x = comment_x( $x );
	}
	return $x;
}

function can_new_symbol_unicodechar_p( $x ) {
	global $symbols_set_neg;
	return isset( $symbols_set_neg()[ $x ] );
}
function new_symbol_unicodechar( $x ) {
	global $symbol_t;
	return [ $symbol_t, $x ];
}
function symbol_p( $x ) {
	global $symbol_t;
	return $x[ 0 ] === $symbol_t;
}

function un_symbol_unicodechar( $x ) {
	return $x[ 1 ];
}
function can_new_symbol_p( $x ) {
	global $symbols_set;
	return isset( $symbols_set()[ $x ] );
}

function new_symbol( $x ) {
	global $symbols_set;
	return new_symbol_unicodechar( $symbols_set()[ $x ] );
}

function un_symbol( $x ) {
	global $symbols_set_neg;
	return $symbols_set_neg()[ un_symbol_unicodechar( $x ) ];
}

function new_construction( $x, $y ) {
	global $construction_t;
	return [ $construction_t, $x, $y ];
}

function construction_p( $x ) {
	global $construction_t;
	return $x[ 0 ] === $construction_t;
}

function construction_head( $x ) {
	return $x[ 1 ];
}

function construction_tail( $x ) {
	return $x[ 2 ];
}

$null_v = [ $null_t ];

function null_p( $x ) {
	global $null_t;
	return $x[ 0 ] === $null_t;
}

function new_data( $x, $y ) {
	global $data_t;
	return [ $data_t, $x, $y ];
}

function data_p( $x ) {
	global $data_t;
	return $x[ 0 ] === $data_t;
}

function data_name( $x ) {
	return $x[ 1 ];
}

function data_list( $x ) {
	return $x[ 2 ];
}

function new_error( $x, $y ) {
	global $error_t;
	return [ $error_t, $x, $y ];
}

function error_p( $x ) {
	global $error_t;
	return $x[ 0 ] === $error_t;
}

function error_name( $x ) {
	return $x[ 1 ];
}

function error_list( $x ) {
	return $x[ 2 ];
}

function just_p( $x ) {
	global $just_t;
	return $x[ 0 ] === $just_t;
}

function un_just( $x ) {
	return $x[ 1 ];
}
function evaluate( $x, $y ) {
	global $delay_evaluate_t;
	return [ $delay_evaluate_t, $x, $y ];
}

function delay_evaluate_p( $x ) {
	global $delay_evaluate_t;
	return $x[ 0 ] === $delay_evaluate_t;
}
function delay_evaluate_env( $x ) {
	return $x[ 1 ];
}
function delay_evaluate_x( $x ) {
	return $x[ 2 ];
}
function builtin_form_apply( $x, $y, $z ) {
	global $delay_builtin_form_t;
	return [ $delay_builtin_form_t, $x, $y, $z ];
}
function delay_builtin_form_p( $x ) {
	global $delay_builtin_form_t;
	return $x[ 0 ] === $delay_builtin_form_t;
}
function delay_builtin_form_env( $x ) {
	return $x[ 1 ];
}
function delay_builtin_form_f( $x ) {
	return $x[ 2 ];
}
function delay_builtin_form_xs( $x ) {
	return $x[ 3 ];
}
function builtin_func_apply( $x, $y ) {
	global $delay_builtin_func_t;
	return [ $delay_builtin_func_t, $x, $y ];
}
function delay_builtin_func_p( $x ) {
	global $delay_builtin_func_t;
	return $x[ 0 ] === $delay_builtin_func_t;
}
function delay_builtin_func_f( $x ) {
	return $x[ 1 ];
}
function delay_builtin_func_xs( $x ) {
	return $x[ 2 ];
}
function apply( $f, $xs ) {
	global $delay_apply_t;
	return [ $delay_apply_t, $f, $xs ];
}

function delay_apply_p( $x ) {
	global $delay_apply_t;
	return $x[ 0 ] === $delay_apply_t;
}
function delay_apply_f( $x ) {
	return $x[ 1 ];
}
function delay_apply_xs( $x ) {
	return $x[ 2 ];
}
function force_all_rec( $raw ) {
	$x = force_all( $raw );
	$conslike = function ( $xx ) {
		$xx[ 1 ] = force_all_rec( $xx[ 1 ] );
		$xx[ 2 ] = force_all_rec( $xx[ 2 ] );
		return $xx;
	};
	if ( data_p( $x ) ) {
		return $conslike( $x );
	} else
	if ( error_p( $x ) ) {
		return $conslike( $x );
	} else
	if ( construction_p( $x ) ) {
		return $conslike( $x );
	} else
	if ( comment_p( $x ) ) {
		return $conslike( $x );
	}
	return $x;
}

function force_uncomment_all_rec( $raw ) {
	$x = force_uncomment_all( $raw );
	$conslike = function ( $xx ) {
		$xx[ 1 ] = force_all_rec( $xx[ 1 ] );
		$xx[ 2 ] = force_all_rec( $xx[ 2 ] );
		if ( comment_p( $xx[ 1 ] ) || comment_p( $xx[ 2 ] ) ) {
			$ret = lang_copy_do( $xx );
			$a = $xx[ 1 ];
			$d = $xx[ 2 ];
			$a1 = force_uncomment_all_rec( $a );
			$d1 = force_uncomment_all_rec( $d );
			$ret[ 1 ] = $a1;
			$ret[ 2 ] = $d1;
			return $ret;
		} else {

			return $xx;
		}
	};
	if ( data_p( $x ) ) {
		return $conslike( $x );
	} else
	if ( error_p( $x ) ) {
		return $conslike( $x );
	} else
	if ( construction_p( $x ) ) {
		return $conslike( $x );
	}
	return $x;
}

function new_hole_do() {
	global $hole_t;
	return [ $hole_t ];
}
function hole_p( $x ) {
	global $hole_t;
	return $x[ 0 ] === $hole_t;
}
function lang_set_do( $x, $y ) {
	global $just_t;
	// 只用于x与y等价的情况
	if ( $x === $y ) {
		return;
	}
	$x[ 0 ] = $just_t;
	$x[ 1 ] = $y;
	$x[ 2 ] = false;
	$x[ 3 ] = false;
}
function hole_set_do( $rawx, $rawy ) {
	LANG_ASSERT( hole_p( $rawx ) ); // 可能曾经是hole，现在不是。
	$x = $rawx;
	$y = $rawy;
	$x[ 0 ] = $y[ 0 ];
	$x[ 1 ] = $y[ 1 ];
	$x[ 2 ] = $y[ 2 ];
	$x[ 3 ] = $y[ 3 ];
}
function lang_copy_do( $x ) {
	$ret = new_hole_do();
	hole_set_do( $ret, $x );
	return $ret; // type WIP
}
$system_symbol = new_symbol( "太始初核" );
$name_symbol = new_symbol( "符名" );
$function_symbol = new_symbol( "化滅" );
$form_symbol = new_symbol( "式形" );
$equal_symbol = new_symbol( "等同" );
$evaluate_sym = new_symbol( "解算" );
$theThing_symbol = new_symbol( "特定其物" );
$something_symbol = new_symbol( "省略一物" );
$mapping_symbol = new_symbol( "映表" );
$if_symbol = new_symbol( "如若" );
$typeAnnotation_symbol = new_symbol( "一類何物" );
$isOrNot_symbol = new_symbol( "是非" );
$sub_symbol = new_symbol( "其子" );
$true_symbol = new_symbol( "陽" );
$false_symbol = new_symbol( "陰" );
$quote_symbol = new_symbol( "引用" );
$apply_symbol = new_symbol( "應用" );
$null_symbol = new_symbol( "間空" );
$construction_symbol = new_symbol( "連頸" );
$data_symbol = new_symbol( "構物" );
$error_symbol = new_symbol( "謬誤" );
$symbol_symbol = new_symbol( "詞素" );
$list_symbol = new_symbol( "列序" );
$head_symbol = new_symbol( "首始" );
$tail_symbol = new_symbol( "尾末" );
$thing_symbol = new_symbol( "之物" );
$theWorldStopped_symbol = new_symbol( "宇宙亡矣" );
$effect_symbol = new_symbol( "效應" );
//unused//const sequentialWordFormation_symbol = new_symbol('為符名連')
//unused//const inputOutput_symbol = new_symbol("出入改滅")
$comment_symbol = new_symbol( "註疏" );
$the_world_stopped_v = new_error( $system_symbol, new_list( $theWorldStopped_symbol, $something_symbol ) );
function systemName_make( $x ) {
	global $name_symbol;
	global $system_symbol;
	global $null_v;
	return new_data( $name_symbol, new_construction( $system_symbol, new_construction( $x, $null_v ) ) );
}
function make_builtin_f_new_sym_f( $x_sym ) {
	global $typeAnnotation_symbol;
	global $function_symbol;
	global $something_symbol;
	global $theThing_symbol;
	return systemName_make( new_list( $typeAnnotation_symbol, new_list( $function_symbol, $something_symbol, $x_sym ), $theThing_symbol ) );
}
function make_builtin_f_get_sym_f( $t_sym, $x_sym ) {
	global $typeAnnotation_symbol;
	global $function_symbol;
	global $something_symbol;
	return systemName_make( new_list( $typeAnnotation_symbol, new_list( $function_symbol, new_list( $t_sym ), $something_symbol ), $x_sym ) );
}
function make_builtin_f_p_sym_f( $t_sym ) {
	global $typeAnnotation_symbol;
	global $function_symbol;
	global $isOrNot_symbol;
	global $something_symbol;
	return systemName_make( new_list( $typeAnnotation_symbol, $function_symbol, new_list( $isOrNot_symbol, new_list( $typeAnnotation_symbol, $t_sym, $something_symbol ) ) ) );
}
$new_data_function_builtin_systemName = make_builtin_f_new_sym_f( $data_symbol );
$data_name_function_builtin_systemName = make_builtin_f_get_sym_f( $data_symbol, $name_symbol );
$data_list_function_builtin_systemName = make_builtin_f_get_sym_f( $data_symbol, $list_symbol );
$data_p_function_builtin_systemName = make_builtin_f_p_sym_f( $data_symbol );
$new_error_function_builtin_systemName = make_builtin_f_new_sym_f( $error_symbol );
$error_name_function_builtin_systemName = make_builtin_f_get_sym_f( $error_symbol, $name_symbol );
$error_list_function_builtin_systemName = make_builtin_f_get_sym_f( $error_symbol, $list_symbol );
$error_p_function_builtin_systemName = make_builtin_f_p_sym_f( $error_symbol );
$new_construction_function_builtin_systemName = make_builtin_f_new_sym_f( $construction_symbol );
$construction_p_function_builtin_systemName = make_builtin_f_p_sym_f( $construction_symbol );
$construction_head_function_builtin_systemName = make_builtin_f_get_sym_f( $construction_symbol, $head_symbol );
$construction_tail_function_builtin_systemName = make_builtin_f_get_sym_f( $construction_symbol, $tail_symbol );
$symbol_p_function_builtin_systemName = make_builtin_f_p_sym_f( $symbol_symbol );
$null_p_function_builtin_systemName = make_builtin_f_p_sym_f( $null_symbol );
$equal_p_function_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $function_symbol, new_list( $isOrNot_symbol, $equal_symbol ) ) );
$apply_function_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, new_list( $function_symbol, new_construction( $function_symbol, $something_symbol ), $something_symbol ), $apply_symbol ) );
$evaluate_function_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $function_symbol, $evaluate_sym ) );
$list_chooseOne_function_builtin_systemName = make_builtin_f_get_sym_f( $list_symbol, new_list( $typeAnnotation_symbol, $thing_symbol, $something_symbol ) );
$if_function_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $function_symbol, $if_symbol ) );
$quote_form_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $form_symbol, $quote_symbol ) );
$lambda_form_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, new_list( $form_symbol, new_list( $function_symbol, $something_symbol, $function_symbol ) ), $theThing_symbol ) );
$function_builtin_use_systemName = systemName_make( new_list( $form_symbol, new_list( $system_symbol, $function_symbol ) ) );
$form_builtin_use_systemName = systemName_make( new_list( $form_symbol, new_list( $system_symbol, $form_symbol ) ) );
$form_use_systemName = systemName_make( new_list( $form_symbol, $form_symbol ) );
$comment_function_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $function_symbol, $comment_symbol ) );
$comment_form_builtin_systemName = systemName_make( new_list( $typeAnnotation_symbol, $form_symbol, $comment_symbol ) );
$false_v = new_data( $false_symbol, new_list() );
$true_v = new_data( $true_symbol, new_list() );
function symbol_equal_p( $x, $y ) {
	if ( $x === $y ) {
		return true;
	}
	if ( un_symbol_unicodechar( $x ) === un_symbol_unicodechar( $y ) ) {
		lang_set_do( $x, $y );
		return true;
	} else {

		return false;
	}
}
// 相對獨立的部分。符號名稱 }}}
// {{{ 相對獨立的部分。對內建數據結構的簡單處理
function jsArray_to_list( $xs ) {
	global $null_v;
	$ret = $null_v;
	for ( $i = count( $xs ) - 1;  $i >= 0;  $i-- ) {
		$ret = new_construction( $xs[ $i ], $ret );
	}
	return $ret;
}

function list_to_jsArray( $xs, $k_done, $k_tail ) {
	$ret = [];
	while ( construction_p( $xs ) ) {
		$ret[] = construction_head( $xs );
		$xs = construction_tail( $xs );
	}
	if ( null_p( $xs ) ) {
		return $k_done( $ret );
	}
	return $k_tail( $ret, $xs );
}
function maybe_list_to_jsArray( $xs ) {
	return list_to_jsArray( $xs, function ( $x ) {return  $x; }, function ( $_1, $_2 ) {return  false; } );
}

function new_list( ...$xs ) {
	return jsArray_to_list( $xs );
}

// 註疏系統WIP
function un_just_all( $raw ) {
	if ( !just_p( $raw ) ) {
		return $raw;
	}
	$x = $raw;
	$xs = [];
	while ( just_p( $x ) ) {
		$xs[] = $x;
		$x = un_just( $x );
	}
	foreach ( $xs as $v => $___ ) {
		lang_set_do( $v, $x );
	}
	return $x;
}

function un_just_comment_all( $x ) {
	while ( just_p( $x ) || comment_p( $x ) ) {
		$x = un_just_all( un_comment_all( $x ) );
	}
	return $x;
}

function any_delay_p( $x ) {
	return delay_evaluate_p( $x )
||		delay_builtin_form_p( $x )
||		delay_builtin_func_p( $x )
||		delay_apply_p( $x );
}

function any_delay_just_p( $x ) {
	return just_p( $x ) || any_delay_p( $x );
}

function any_delay2delay_evaluate( $x ) {
	if ( delay_evaluate_p( $x ) ) {
		return $x;
	} else
	if ( delay_builtin_form_p( $x ) ) {
		throw 'WIP';
	} else
	if ( delay_builtin_func_p( $x ) ) {
		throw 'WIP';
	} else
	if ( delay_apply_p( $x ) ) {
		throw 'WIP';
	}
	return LANG_ERROR();
}
function any_delay_env( $x ) {
	return delay_evaluate_env( any_delay2delay_evaluate( $x ) );
}

function any_delay_x( $x ) {
	return delay_evaluate_x( any_delay2delay_evaluate( $x ) );
}

function force_all( $raw, $parents_history = [], $ref_novalue_replace = [ false, false ], $xs = [] ) {
	global $the_world_stopped_v;
	global $data_name_function_builtin_systemName;
	global $data_list_function_builtin_systemName;
	global $data_p_function_builtin_systemName;
	global $error_name_function_builtin_systemName;
	global $error_list_function_builtin_systemName;
	global $error_p_function_builtin_systemName;
	global $construction_p_function_builtin_systemName;
	global $construction_head_function_builtin_systemName;
	global $construction_tail_function_builtin_systemName;
	global $symbol_p_function_builtin_systemName;
	global $null_p_function_builtin_systemName;
	global $equal_p_function_builtin_systemName;
	global $apply_function_builtin_systemName;
	global $evaluate_function_builtin_systemName;
	global $if_function_builtin_systemName;
	// ref_novalue_replace : [finding_minimal_novalue : Bool, found_minimal_novalue : Bool]
	$history = [];
	$x = $raw;
	$do_rewrite = function ( $newval ) use ( &$x, &$xs ) {
		lang_set_do( $x, $newval );
		for ( $i = 0;  $i < count( $xs );  $i++ ) {
			lang_set_do( $xs[ $i ], $newval );
		}
		return $newval;
	};
	$replace_this_with_stopped = function () use ( &$ref_novalue_replace, &$the_world_stopped_v ) {
		// 語言標準允許替換沒有值的東西為那種錯誤。
		$ref_novalue_replace[ 1 ] = true;
		return do_rewrite_force_all( $the_world_stopped_v );
	};
	$do_rewrite_force_all = function ( $newval ) use ( &$do_rewrite, &$xs, &$parents_history ) {
		$do_rewrite( $newval );
		if ( any_delay_just_p( $newval ) ) {
			$xs[] = $x;
			return force_all( $newval, $parents_history, [ false, false ], $xs );
		}
		return $newval;
	};
	$make_history = function () use ( &$history, &$parents_history ) {
		$ret = [];
		foreach ( $history as $x_id => $___ ) {
			$ret[ $x_id ] = true;
		}
		foreach ( $parents_history as $x_id => $___ ) {
			$ret[ $x_id ] = true;
		}
		return $ret;
	};
	for ( $i = 0;  any_delay_just_p( $x ) && $i < 32;  $i++ ) { // 一般情況
		$xs[] = $x;
		$x = force1( $x );
	}
	while ( any_delay_just_p( $x ) ) {
		$x_id = simple_print( $x );
		if ( $parents_history[ $x_id ] === true ) {
			return $replace_this_with_stopped();
		}
		if ( $history[ $x_id ] === true ) {
			$ref_novalue_replace[ 0 ] = true; // 減少替換範圍：(f <沒有值>) 的(f _)
			if ( delay_evaluate_p( $x ) ) {
				return $replace_this_with_stopped(); // 可能未減少應該減少的？
			} else
			if ( delay_builtin_func_p( $x ) ) {
				$f = delay_builtin_func_f( $x ); // LangVal/Name
				$xs = delay_builtin_func_xs( $x ); // JSList LangVal
				$elim_s = [ $data_name_function_builtin_systemName,
					$data_list_function_builtin_systemName,
					$data_p_function_builtin_systemName,
					$error_name_function_builtin_systemName,
					$error_list_function_builtin_systemName,
					$error_p_function_builtin_systemName,
					$construction_p_function_builtin_systemName,
					$construction_head_function_builtin_systemName,
					$construction_tail_function_builtin_systemName,
					$symbol_p_function_builtin_systemName,
					$null_p_function_builtin_systemName
				];
				$is_elim = false;
				foreach ( $elim_s as $elim_s_v => $___ ) {
					if ( jsbool_equal_p( $elim_s_v, $f ) ) {
						$is_elim = true;
						break;
					}
				}
				if ( $is_elim ) {
					LANG_ASSERT( count( $xs ) === 1 );
					LANG_ASSERT( $ref_novalue_replace[ 1 ] === false );
					$inner = force_all( $xs[ 0 ], $make_history(), $ref_novalue_replace );
					if ( $ref_novalue_replace[ 1 ] ) {
						return $do_rewrite_force_all( builtin_func_apply( $f, [ $inner ] ) );
					} else {

						return LANG_ERROR(); //我覺得沒有這種情況
					}
				}
				if ( jsbool_equal_p( $f, $equal_p_function_builtin_systemName ) ) {
					return $replace_this_with_stopped(); //WIP
				} else
				if ( jsbool_equal_p( $f, $apply_function_builtin_systemName ) ) {
					return $replace_this_with_stopped(); //WIP
				} else
				if ( jsbool_equal_p( $f, $evaluate_function_builtin_systemName ) ) {
					return $replace_this_with_stopped(); //WIP
				} else
				if ( jsbool_equal_p( $f, $if_function_builtin_systemName ) ) {
					LANG_ASSERT( count( $xs ) === 3 );
					LANG_ASSERT( $ref_novalue_replace[ 1 ] === false );
					$tf = force_all( $xs[ 0 ], $make_history(), $ref_novalue_replace );
					if ( $ref_novalue_replace[ 1 ] ) {
						return $do_rewrite_force_all( builtin_func_apply( $if_function_builtin_systemName, [ $tf, $xs[ 1 ], $xs[ 2 ] ] ) );
					} else {

						return LANG_ERROR(); //我覺得沒有這種情況
					}
				}
				return LANG_ERROR(); //我覺得沒有這種情況
			} else
			if ( delay_builtin_form_p( $x ) ) {
				return $replace_this_with_stopped(); // 可能未減少應該減少的？
			} else
			if ( delay_apply_p( $x ) ) {
				return $replace_this_with_stopped(); // 可能未減少應該減少的？
			}
			return LANG_ERROR();
		}
		$history[ $x_id ] = true;
		$xs[] = $x;
		$x = force1( $x );
	}
	return $do_rewrite( $x );
}
function force1( $raw ) {
	$x = un_just_all( $raw );
	$ret = null;
	LANG_ASSERT( !just_p( $x ) );
	if ( delay_evaluate_p( $x ) ) {
		$ret = real_evaluate( delay_evaluate_env( $x ), delay_evaluate_x( $x ), $raw );
	} else
	if ( delay_builtin_form_p( $x ) ) {
		$ret = real_builtin_form_apply( delay_builtin_form_env( $x ), delay_builtin_form_f( $x ), delay_builtin_form_xs( $x ), $raw );
	} else
	if ( delay_builtin_func_p( $x ) ) {
		$ret = real_builtin_func_apply( delay_builtin_func_f( $x ), delay_builtin_func_xs( $x ), $raw );
	} else
	if ( delay_apply_p( $x ) ) {
		$ret = real_apply( delay_apply_f( $x ), delay_apply_xs( $x ), $raw );
	} else {

		$ret = $x;
	}
	$ret = un_just_all( $ret );
	lang_set_do( $x, $ret );
	return $ret;
}

function force_all_export( $raw ) {
	return force_all( $raw );
}

function force_uncomment_all( $x ) {
	while ( any_delay_just_p( $x ) || comment_p( $x ) ) {
		$x = force_all( un_comment_all( $x ) );
	}
	return $x;
}

function force_uncomment1( $raw ) {
	if ( comment_p( $raw ) ) {
		return comment_x( $raw );
	} else {

		return force1( $raw );
	}
}

$env_null_v = [];

function env_set( $env, $key, $val ) {
	$ret = [];
	for ( $i = 0;  $i < count( $env );  $i = $i + 2 ) {
		// WIP delay未正確處理(影響較小)
		if ( jsbool_equal_p( $env[ $i + 0 ], $key ) ) {
			$ret[ $i + 0 ] = $key;
			$ret[ $i + 1 ] = $val;
			for ( $i = $i + 2;  $i < count( $env );  $i = $i + 2 ) {
				$ret[ $i + 0 ] = $env[ $i + 0 ];
				$ret[ $i + 1 ] = $env[ $i + 1 ];
			}
			return $ret;
		} else {

			$ret[ $i + 0 ] = $env[ $i + 0 ];
			$ret[ $i + 1 ] = $env[ $i + 1 ];
		}
	}
	$ret[ count( $env ) + 0 ] = $key;
	$ret[ count( $env ) + 1 ] = $val;
	return $ret;
}

function env_get( $env, $key, $default_v ) {
	for ( $i = 0;  $i < count( $env );  $i = $i + 2 ) {
		if ( jsbool_equal_p( $env[ $i + 0 ], $key ) ) {
			return $env[ $i + 1 ];
		}
	}
	return $default_v;
}

function must_env_get( $env, $key ) {
	for ( $i = 0;  $i < count( $env );  $i = $i + 2 ) {
		if ( jsbool_equal_p( $env[ $i + 0 ], $key ) ) {
			return $env[ $i + 1 ];
		}
	}
	return LANG_ERROR();
}
function env2val( $env ) {
	global $null_v;
	global $mapping_symbol;
	$ret = $null_v;
	for ( $i = 0;  $i < count( $env );  $i = $i + 2 ) {
		$ret = new_construction( new_list( $env[ $i + 0 ], $env[ $i + 1 ] ), $ret );
	}
	return new_data( $mapping_symbol, new_list( $ret ) );
}

function env_foreach( $env, $f ) {
	for ( $i = 0;  $i < count( $env );  $i = $i + 2 ) {
		$f( $env[ $i + 0 ], $env[ $i + 1 ] );
	}
}

function val2env( $x ) {
	global $mapping_symbol;
	$x = force_all( $x );
	if ( !data_p( $x ) ) {
		return false;
	}
	$s = force_all( data_name( $x ) );
	if ( !symbol_p( $s ) ) {
		return false;
	}
	if ( !symbol_equal_p( $s, $mapping_symbol ) ) {
		return false;
	}
	$s = force_all( data_list( $x ) );
	if ( !construction_p( $s ) ) {
		return false;
	}
	if ( !null_p( force_all( construction_tail( $s ) ) ) ) {
		return false;
	}
	$ret = [];
	$xs = force_all( construction_head( $s ) );
	while ( !null_p( $xs ) ) {
		if ( !construction_p( $xs ) ) {
			return false;
		}
		$x = force_all( construction_head( $xs ) );
		$xs = force_all( construction_tail( $xs ) );
		if ( !construction_p( $x ) ) {
			return false;
		}
		$k = construction_head( $x );
		$x = force_all( construction_tail( $x ) );
		if ( !construction_p( $x ) ) {
			return false;
		}
		$v = construction_head( $x );
		if ( !null_p( force_all( construction_tail( $x ) ) ) ) {
			return false;
		}
		$not_breaked = true;
		for ( $i = 0;  $i < count( $ret );  $i = $i + 2 ) {
			if ( jsbool_equal_p( $ret[ $i + 0 ], $k ) ) {
				$ret[ $i + 1 ] = $v;
				$not_breaked = false;
				break;
			}
		}
		if ( $not_breaked ) {
			$ret[] = $k;
			$ret[] = $v;
		}
	}
	return $ret;
}

// 相對獨立的部分。變量之環境 }}}
// 註疏系統WIP
function real_evaluate( $env, $raw, $selfvalraw ) {
	global $system_symbol;
	global $function_builtin_use_systemName;
	global $evaluate_function_builtin_systemName;
	global $form_builtin_use_systemName;
	global $form_use_systemName;
	global $form_symbol;
	$x = force1( $raw );
	if ( any_delay_just_p( $x ) ) {
		return $selfvalraw;
	}
	$error_v = new_error( $system_symbol, new_list( $function_builtin_use_systemName, new_list( $evaluate_function_builtin_systemName, new_list( env2val( $env ), $x ) ) ) );
	if ( construction_p( $x ) ) {
		$xs = [];
		$rest = $x;
		while ( !null_p( $rest ) ) {
			if ( any_delay_just_p( $rest ) ) {
				return $selfvalraw;
			} else
			if ( construction_p( $rest ) ) {
				$xs[] = construction_head( $rest ); // WIP delay未正確處理(影響較小)
				$rest = force1( construction_tail( $rest ) );
			} else {

				return $error_v;
			}
		}
		// WIP delay未正確處理(影響較小)
		if ( jsbool_equal_p( $xs[ 0 ], $form_builtin_use_systemName ) ) {
			if ( count( $xs ) === 1 ) {
				return $error_v;
			}
			$f = $xs[ 1 ];
			$args = [];
			for ( $i = 2;  $i < count( $xs );  $i++ ) {
				$args[] = $xs[ $i ];
			}
			return builtin_form_apply( $env, $f, $args );
		} else
		if ( jsbool_equal_p( $xs[ 0 ], $form_use_systemName ) ) {
			if ( count( $xs ) === 1 ) {
				return $error_v;
			}
			// WIP delay未正確處理(影響較小)
			$f = force_all( evaluate( $env, $xs[ 1 ] ) );
			if ( !data_p( $f ) ) {
				return $error_v;
			}
			$f_type = force1( data_name( $f ) );
			if ( any_delay_just_p( $f_type ) ) {
				return $selfvalraw;
			}
			if ( !symbol_p( $f_type ) ) {
				return $error_v;
			}
			if ( !symbol_equal_p( $f_type, $form_symbol ) ) {
				return $error_v;
			}
			$f_list = force1( data_list( $f ) );
			if ( any_delay_just_p( $f_list ) ) {
				return $selfvalraw;
			}
			if ( !construction_p( $f_list ) ) {
				return $error_v;
			}
			$f_x = construction_head( $f_list );
			$f_list_cdr = force1( construction_tail( $f_list ) );
			if ( any_delay_just_p( $f_list_cdr ) ) {
				return $selfvalraw;
			}
			if ( !null_p( $f_list_cdr ) ) {
				return $error_v;
			}
			$args = [ env2val( $env ) ];
			for ( $i = 2;  $i < count( $xs );  $i++ ) {
				$args[] = $xs[ $i ];
			}
			return apply( $f_x, $args );
		} else
		if ( jsbool_equal_p( $xs[ 0 ], $function_builtin_use_systemName ) ) {
			if ( count( $xs ) === 1 ) {
				return $error_v;
			}
			$f = $xs[ 1 ];
			$args = [];
			for ( $i = 2;  $i < count( $xs );  $i++ ) {
				$args[] = evaluate( $env, $xs[ $i ] );
			}
			return builtin_func_apply( $f, $args );
		} else {

			$f = evaluate( $env, $xs[ 0 ] );
			$args = [];
			for ( $i = 1;  $i < count( $xs );  $i++ ) {
				$args[] = evaluate( $env, $xs[ $i ] );
			}
			return apply( $f, $args );
		}
	} else
	if ( null_p( $x ) ) {
		return $x;
	} else
	if ( name_p( $x ) ) {
		return env_get( $env, $x, $error_v );
	} else
	if ( error_p( $x ) ) {
		return $error_v;
	}
	return LANG_ERROR();
}
function name_p( $x ) {
	return symbol_p( $x ) || data_p( $x );
}
function make_builtin_p_func( $p_sym, $p_jsfunc ) {
	global $true_v;
	global $false_v;
	return [ $p_sym,
		1,
		function ( $x, $error_v ) use ( &$p_sym, &$p_jsfunc, &$true_v, &$false_v ) {
			$x = force1( $x );
			if ( any_delay_just_p( $x ) ) {
				return builtin_func_apply( $p_sym, [ $x ] );
			}
			if ( $p_jsfunc( $x ) ) {
				return $true_v;
			}
			return $false_v;
		}
	];
}
function make_builtin_get_func( $f_sym, $p_jsfunc, $f_jsfunc ) {
	return [ $f_sym,
		1,
		function ( $x, $error_v ) use ( &$f_sym, &$p_jsfunc, &$f_jsfunc ) {
			$x = force1( $x );
			if ( any_delay_just_p( $x ) ) {
				return builtin_func_apply( $f_sym, [ $x ] );
			}
			if ( $p_jsfunc( $x ) ) {
				return $f_jsfunc( $x );
			}
			return $error_v;
		}
	];
}
// 註疏系統WIP
$real_builtin_func_apply_s = [
	make_builtin_p_func( $data_p_function_builtin_systemName, $data_p ),
	[ $new_data_function_builtin_systemName, 2, $new_data ],
	make_builtin_get_func( $data_name_function_builtin_systemName, $data_p, $data_name ),
	make_builtin_get_func( $data_list_function_builtin_systemName, $data_p, $data_list ),
	make_builtin_p_func( $error_p_function_builtin_systemName, $error_p ),
	[ $new_error_function_builtin_systemName, 2, $new_error ],
	make_builtin_get_func( $error_name_function_builtin_systemName, $error_p, $error_name ),
	make_builtin_get_func( $error_list_function_builtin_systemName, $error_p, $error_list ),
	make_builtin_p_func( $null_p_function_builtin_systemName, $null_p ),
	[ $new_construction_function_builtin_systemName, 2, $new_construction ],
	make_builtin_p_func( $construction_p_function_builtin_systemName, $construction_p ),
	make_builtin_get_func( $construction_head_function_builtin_systemName, $construction_p, $construction_head ),
	make_builtin_get_func( $construction_tail_function_builtin_systemName, $construction_p, $construction_tail ),
	[ $equal_p_function_builtin_systemName, 2, function ( $x, $y, $error_v ) use ( &$true_v, &$equal_p_function_builtin_systemName, &$if_function_builtin_systemName, &$false_v ) {
			if ( $x === $y ) {
				return $true_v;
			}
			$x = force1( $x );
			$y = force1( $y );
			if ( any_delay_just_p( $x ) || any_delay_just_p( $y ) ) {
				return builtin_func_apply( $equal_p_function_builtin_systemName, [ $x, $y ] ); // not fully implemented -- Halting
			}
			if ( $x === $y ) {
				return $true_v;
			}
			$H_if = function ( $b, $xx, $yy ) use ( &$if_function_builtin_systemName ) {
				// H = helper
				return builtin_func_apply( $if_function_builtin_systemName, [ $b, $xx, $yy ] );
			};
			$H_and = function ( $xx, $yy ) use ( &$H_if, &$false_v ) {
				return $H_if( $xx, $yy, $false_v );
			};
			LANG_ASSERT( !any_delay_just_p( $x ) );
			$end_2 = function ( $xx, $yy, $f1, $f2 ) use ( &$H_and, &$equal_p_function_builtin_systemName ) {
				return $H_and( builtin_func_apply( $equal_p_function_builtin_systemName, [ $f1( $xx ), $f1( $yy ) ] ), builtin_func_apply( $equal_p_function_builtin_systemName, [ $f2( $xx ), $f2( $yy ) ] ) );
			};
			if ( null_p( $x ) ) {
				if ( !null_p( $x ) ) {
					return $false_v;
				}
				return $true_v;
			} else
			if ( symbol_p( $x ) ) {
				if ( !symbol_p( $y ) ) {
					return $false_v;
				}
				return ( symbol_equal_p( $x, $y ) ) ? $true_v : $false_v;
			} else
			if ( data_p( $x ) ) {
				if ( !data_p( $y ) ) {
					return $false_v;
				}
				return $end_2( $x, $y, $data_name, $data_list );
			} else
			if ( construction_p( $x ) ) {
				if ( !construction_p( $y ) ) {
					return $false_v;
				}
				return $end_2( $x, $y, $construction_head, $construction_tail );
			} else
			if ( error_p( $x ) ) {
				if ( !error_p( $y ) ) {
					return $false_v;
				}
				return $end_2( $x, $y, $error_name, $error_list );
			}
			return LANG_ERROR();
		}
	],
	[ $apply_function_builtin_systemName, 2, function ( $f, $xs, $error_v ) {
			// WIP delay未正確處理(影響較小)
			$jslist = [];
			$iter = force_all( $xs );
			while ( construction_p( $iter ) ) {
				$jslist[] = construction_head( $iter );
				$iter = force_all( construction_tail( $iter ) );
			}
			if ( !null_p( $iter ) ) {
				return $error_v;
			}
			return apply( $f, $jslist );
		}
	],
	[ $evaluate_function_builtin_systemName, 2, function ( $env, $x, $error_v ) {
			// WIP delay未正確處理(影響較小)
			$maybeenv = val2env( $env );
			if ( $maybeenv === false ) {
				return $error_v;
			}
			return evaluate( $maybeenv, $x );
		}
	],
	make_builtin_p_func( $symbol_p_function_builtin_systemName, $symbol_p ),
	[ $list_chooseOne_function_builtin_systemName, 1, function ( $xs, $error_v ) use ( &$list_chooseOne_function_builtin_systemName ) {
			// 一般返回第一个，可以因为优化返回其他的任意一个
			// xs可以無限長，不判斷是否真的是list
			$xs = force1( $xs );
			if ( any_delay_just_p( $xs ) ) {
				return builtin_func_apply( $list_chooseOne_function_builtin_systemName, [ $xs ] );
			}
			if ( !construction_p( $xs ) ) {
				return $error_v;
			}
			return construction_head( $xs );
		}
	],
	[ $if_function_builtin_systemName, 3, function ( $b, $x, $y, $error_v ) use ( &$if_function_builtin_systemName, &$true_symbol, &$false_symbol ) {
			$b = force1( $b );
			if ( any_delay_just_p( $b ) ) {
				return builtin_func_apply( $if_function_builtin_systemName, [ $b, $x, $y ] );
			}
			if ( !data_p( $b ) ) {
				return $error_v;
			}
			// WIP delay未正確處理(影響較小)
			$nam = force_all( data_name( $b ) );
			if ( !symbol_p( $nam ) ) {
				return $error_v;
			}
			if ( symbol_equal_p( $nam, $true_symbol ) ) {
				return $x;
			}
			if ( symbol_equal_p( $nam, $false_symbol ) ) {
				return $y;
			}
			return $error_v;
		}
	],
	[ $comment_function_builtin_systemName, 2, $new_comment ]
];
// 註疏系統WIP
function real_apply( $f, $xs, $selfvalraw ) {
	global $system_symbol;
	global $function_builtin_use_systemName;
	global $apply_function_builtin_systemName;
	global $function_symbol;
	global $env_null_v;
	global $null_v;
	// WIP delay未正確處理(影響較小)
	$make_error_v = function () use ( &$system_symbol, &$function_builtin_use_systemName, &$apply_function_builtin_systemName, &$f, &$xs ) {
		return new_error( $system_symbol, new_list( $function_builtin_use_systemName, new_list( $apply_function_builtin_systemName, new_list( $f, jsArray_to_list( $xs ) ) ) ) );
	};
	$f = force1( $f );
	if ( any_delay_just_p( $f ) ) {
		return $selfvalraw;
	}
	if ( !data_p( $f ) ) {
		return $make_error_v();
	}
	$f_type = force_all( data_name( $f ) );
	if ( !( symbol_p( $f_type ) && symbol_equal_p( $f_type, $function_symbol ) ) ) {
		return $make_error_v();
	}
	$f_list = force_all( data_list( $f ) );
	if ( !construction_p( $f_list ) ) {
		return $make_error_v();
	}
	$args_pat = force_all_rec( construction_head( $f_list ) );
	$f_list_cdr = force_all( construction_tail( $f_list ) );
	if ( !( construction_p( $f_list_cdr ) && null_p( force_all( construction_tail( $f_list_cdr ) ) ) ) ) {
		return $make_error_v();
	}
	$f_code = construction_head( $f_list_cdr );
	$env = $env_null_v;
	$xs_i = 0;
	while ( !null_p( $args_pat ) ) {
		if ( name_p( $args_pat ) ) {
			$x = $null_v;
			for ( $i = count( $xs ) - 1;  $i >= $xs_i;  $i-- ) {
				$x = new_construction( $xs[ $i ], $x );
			}
			$env = env_set( $env, $args_pat, $x );
			$xs_i = count( $xs );
			$args_pat = $null_v;
		} else
		if ( construction_p( $args_pat ) ) {
			if ( $xs_i < count( $xs ) ) {
				$x = $xs[ $xs_i ];
				$xs_i++;
				$env = env_set( $env, construction_head( $args_pat ), $x );
				$args_pat = construction_tail( $args_pat );
			} else {

				return $make_error_v();
			}
		} else {

			return $make_error_v();
		}
	}
	if ( count( $xs ) !== $xs_i ) {
		return $make_error_v();
	}
	return evaluate( $env, $f_code );
}
// 註疏系統WIP
function real_builtin_func_apply( $f, $xs, $selfvalraw ) {
	global $system_symbol;
	global $function_builtin_use_systemName;
	global $real_builtin_func_apply_s;
	$error_v = new_error( $system_symbol, new_list( $function_builtin_use_systemName, new_list( $f, jsArray_to_list( $xs ) ) ) );
	for ( $i = 0;  $i < count( $real_builtin_func_apply_s );  $i++ ) {
		// WIP delay未正確處理(影響較小)
		if ( jsbool_equal_p( $f, $real_builtin_func_apply_s[ $i ][ 0 ] ) ) {
			$actually_length = $real_builtin_func_apply_s[ $i ][ 1 ];
			if ( count( $xs ) !== $actually_length ) {
				return $error_v;
			}
			$f = $real_builtin_func_apply_s[ $i ][ 2 ];
			// type WIP
			if ( $actually_length === 1 ) {
				return $f( $xs[ 0 ], $error_v );
			} else
			if ( $actually_length === 2 ) {
				return $f( $xs[ 0 ], $xs[ 1 ], $error_v );
			} else
			if ( $actually_length === 3 ) {
				return $f( $xs[ 0 ], $xs[ 1 ], $xs[ 2 ], $error_v );
			}
			return LANG_ERROR();
		}
	}
	return $error_v;
}
// 註疏系統WIP
function real_builtin_form_apply( $env, $f, $xs, $selfvalraw ) {
	global $system_symbol;
	global $form_builtin_use_systemName;
	global $quote_form_builtin_systemName;
	global $lambda_form_builtin_systemName;
	global $comment_form_builtin_systemName;
	$error_v = new_error( $system_symbol, new_list( $form_builtin_use_systemName, new_list( env2val( $env ), $f, jsArray_to_list( $xs ) ) ) ); // WIP delay未正確處理(影響較小)
	if ( jsbool_equal_p( $f, $quote_form_builtin_systemName ) ) {
		if ( count( $xs ) !== 1 ) {
			return $error_v;
		}
		return $xs[ 0 ];
	} else
	if ( jsbool_equal_p( $f, $lambda_form_builtin_systemName ) ) {
		if ( count( $xs ) !== 2 ) {
			return $error_v;
		}
		return new_lambda( $env, $xs[ 0 ], $xs[ 1 ], $error_v );
	} else
	if ( jsbool_equal_p( $f, $comment_form_builtin_systemName ) ) {
		if ( count( $xs ) !== 2 ) {
			return $error_v;
		}
		return new_comment( $xs[ 0 ], evaluate( $env, $xs[ 1 ] ) );
	}
	return $error_v;
}
function make_quote( $x ) {
	global $form_builtin_use_systemName;
	global $quote_form_builtin_systemName;
	return new_list( $form_builtin_use_systemName, $quote_form_builtin_systemName, $x );
}
// 註疏系統WIP
function new_lambda( $env, $args_pat, $body, $error_v = false ) {
	global $system_symbol;
	global $form_builtin_use_systemName;
	global $lambda_form_builtin_systemName;
	global $null_v;
	global $function_symbol;
	// 允許返回不同的物--允許實現進行對所有實現有效的優化[比如:消除無用環境中的變量] TODO 未實現
	$make_error_v = function () use ( &$error_v, &$system_symbol, &$form_builtin_use_systemName, &$env, &$lambda_form_builtin_systemName, &$args_pat, &$body ) {
		if ( $error_v === false ) {
			return new_error( $system_symbol, new_list( $form_builtin_use_systemName, new_list( env2val( $env ), $lambda_form_builtin_systemName, jsArray_to_list( [ $args_pat, $body ] ) ) ) );
		} else {

			return $error_v;
		}
	};
	$args_pat = force_all_rec( $args_pat ); // WIP delay未正確處理(影響較小)
	$args_pat_vars = []; // : JSList LangVal/Name 順序有要求
	$args_pat_is_dot = false;
	$args_pat_iter = $args_pat;
	while ( !null_p( $args_pat_iter ) ) {
		if ( name_p( $args_pat_iter ) ) {
			$args_pat_vars[] = $args_pat_iter;
			$args_pat_is_dot = true;
			$args_pat_iter = $null_v;
		} else
		if ( construction_p( $args_pat_iter ) ) {
			$args_pat_vars[] = construction_head( $args_pat_iter );
			$args_pat_iter = construction_tail( $args_pat_iter );
		} else {

			return $make_error_v();
		}
	}
	$args_pat_vars_val = $args_pat; // 是 jsArray_to_list(args_pat_vars) : LangVal
	if ( $args_pat_is_dot ) {
		$args_pat_vars_val = jsArray_to_list( $args_pat_vars );
	}
	$env_vars = []; // : JSList LangVal/Name
	env_foreach( $env, function ( $k, $v ) use ( &$args_pat_vars, &$env_vars ) {
			for ( $i = 0;  $i < count( $args_pat_vars );  $i++ ) {
				if ( jsbool_equal_p( $args_pat_vars[ $i ], $k ) ) {
					// WIP delay未正確處理(影響較小)
					return;
				}
			}
			$env_vars[] = $k;
		}
	);
	$new_args_pat = $args_pat_vars_val; // : LangVal
	for ( $i = count( $env_vars ) - 1;  $i >= 0;  $i-- ) {
		$new_args_pat = new_construction( $env_vars[ $i ], $new_args_pat );
	}
	$new_args = $args_pat_vars_val; // : LangVal
	for ( $i = count( $env_vars ) - 1;  $i >= 0;  $i-- ) {
		$new_args = new_construction( make_quote( must_env_get( $env, $env_vars[ $i ] ) ), $new_args );
	}
	return new_data( $function_symbol, new_list( $args_pat, new_construction( make_quote( new_data( $function_symbol, new_list( $new_args_pat, $body ) ) ), $new_args ) ) );
}
// WIP delay未正確處理(影響較小)
function jsbool_equal_p( $x, $y ) {
	global $null_v;
	if ( $x === $y ) {
		return true;
	}
	$x = force_all( $x );
	$y = force_all( $y );
	if ( $x === $y ) {
		return true;
	}
	$end_2 = function ( $xx, $yy, $f1, $f2 ) {
		if ( jsbool_equal_p( $f1( $xx ), $f1( $yy ) ) && jsbool_equal_p( $f2( $xx ), $f2( $yy ) ) ) {
			lang_set_do( $xx, $yy );
			return true;
		} else {

			return false;
		}
	};
	if ( null_p( $x ) ) {
		if ( !null_p( $y ) ) {
			return false;
		}
		lang_set_do( $x, $null_v );
		lang_set_do( $y, $null_v );
		return true;
	} else
	if ( symbol_p( $x ) ) {
		if ( !symbol_p( $y ) ) {
			return false;
		}
		return symbol_equal_p( $x, $y );
	} else
	if ( construction_p( $x ) ) {
		if ( !construction_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $construction_head, $construction_tail );
	} else
	if ( error_p( $x ) ) {
		if ( !error_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $error_name, $error_list );
	} else
	if ( data_p( $x ) ) {
		if ( !data_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $data_name, $data_list );
	}
	return LANG_ERROR();
}

function jsbool_no_force_equal_p( $x, $y ) {
	global $null_v;
	if ( $x === $y ) {
		return true;
	}
	$x = un_just_all( $x );
	$y = un_just_all( $y );
	if ( $x === $y ) {
		return true;
	}
	$end_2 = function ( $xx, $yy, $f1, $f2 ) {
		if ( jsbool_no_force_equal_p( $f1( $xx ), $f1( $yy ) ) && jsbool_no_force_equal_p( $f2( $xx ), $f2( $yy ) ) ) {
			lang_set_do( $xx, $yy );
			return true;
		} else {

			return false;
		}
	};
	if ( null_p( $x ) ) {
		if ( !null_p( $y ) ) {
			return false;
		}
		lang_set_do( $x, $null_v );
		lang_set_do( $y, $null_v );
		return true;
	} else
	if ( symbol_p( $x ) ) {
		if ( !symbol_p( $y ) ) {
			return false;
		}
		return symbol_equal_p( $x, $y );
	} else
	if ( construction_p( $x ) ) {
		if ( !construction_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $construction_head, $construction_tail );
	} else
	if ( error_p( $x ) ) {
		if ( !error_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $error_name, $error_list );
	} else
	if ( data_p( $x ) ) {
		if ( !data_p( $y ) ) {
			return false;
		}
		return $end_2( $x, $y, $data_name, $data_list );
	} else
	if ( delay_evaluate_p( $x ) ) {
		throw 'WIP';
	} else
	if ( delay_builtin_func_p( $x ) ) {
		throw 'WIP';
	} else
	if ( delay_builtin_form_p( $x ) ) {
		throw 'WIP';
	} else
	if ( delay_apply_p( $x ) ) {
		throw 'WIP';
	}
	return LANG_ERROR();
}
// {{{ 相對獨立的部分。simple printer
// 註疏系統WIP
function simple_print( $x ) {
	// [[[ 大量重複代碼 simple_print <-> complex_print
	$x = un_just_all( $x );
	$temp = '';
	$prefix = '';
	if ( null_p( $x ) ) {
		return '()';
	} else
	if ( construction_p( $x ) ) {
		$temp = '(';
		$prefix = '';
		while ( construction_p( $x ) ) {
			$temp += $prefix + simple_print( construction_head( $x ) );
			$prefix = ' ';
			$x = un_just_all( construction_tail( $x ) );
		}
		if ( null_p( $x ) ) {
			$temp += ')';
		} else {

			$temp += ' . ' . simple_print( $x ) . ')';
		}
		return $temp;
	} else
	if ( data_p( $x ) ) {
		return '#' . simple_print( new_construction( data_name( $x ), data_list( $x ) ) );
	} else
	if ( error_p( $x ) ) {
		return '!' . simple_print( new_construction( error_name( $x ), error_list( $x ) ) );
	} else
	if ( symbol_p( $x ) ) {
		return un_symbol( $x );
	} else
	if ( delay_evaluate_p( $x ) ) {
		return '$(' . simple_print( env2val( delay_evaluate_env( $x ) ) ) . ' ' . simple_print( delay_evaluate_x( $x ) ) . ')';
	} else
	if ( delay_builtin_func_p( $x ) ) {
		return '%(' . simple_print( delay_builtin_func_f( $x ) ) . ' ' . simple_print( jsArray_to_list( delay_builtin_func_xs( $x ) ) ) . ')';
	} else
	if ( delay_builtin_form_p( $x ) ) {
		return '@('
.			simple_print( env2val( delay_builtin_form_env( $x ) ) )
.			' ' . simple_print( delay_builtin_form_f( $x ) )
.			' ' . simple_print( jsArray_to_list( delay_builtin_form_xs( $x ) ) )
.			')';
	} else
	if ( delay_apply_p( $x ) ) {
		return '^(' . simple_print( delay_apply_f( $x ) ) . ' ' . simple_print( jsArray_to_list( delay_apply_xs( $x ) ) ) . ')';
	}
	return LANG_ERROR(); // 大量重複代碼 simple_print <-> complex_print ]]]
}

function simple_print_force_all_rec( $x ) {
	return simple_print( force_all_rec( $x ) );
}

// 相對獨立的部分。simple printer }}}
// {{{ 相對獨立的部分。complex parser/complex printer
// 註疏系統WIP
function complex_parse( $x ) {
	global $null_v;
	global $typeAnnotation_symbol;
	global $function_symbol;
	global $something_symbol;
	global $isOrNot_symbol;
	global $sub_symbol;
	global $form_symbol;
	global $system_symbol;
	global $theThing_symbol;
	$state_const = $x; // TODO 修復UTF8處理（現在只支持UTF16中的字符）（typescript-to-lua只正確支持ASCII）
	$state = 0;
	$eof = function () use ( &$state, &$state_const ) {
		return count( $state_const ) === $state;
	};
	$get = function () use ( &$eof, &$state_const, &$state ) {
		LANG_ASSERT( !$eof() );
		$ret = $state_const[ $state ];
		$state++;
		return $ret;
	};
	$put = function ( $chr ) use ( &$state_const, &$state ) {
		LANG_ASSERT( $state_const[ $state - 1 ] === $chr );
		$state--;
	};
	$parse_error = function ( $x = '' ) {
		throw 'TheLanguage parse ERROR!' . $x;
	};
	$a_space_p = function ( $chr ) {
		return $chr === ' ' || $chr === "\n" || $chr === "\t" || $chr === "\r";
	};
	$space = function () use ( &$eof, &$get, &$a_space_p, &$put ) {
		if ( $eof() ) {
			return false;
		}
		$x = $get();
		if ( !$a_space_p( $x ) ) {
			$put( $x );
			return false;
		}
		while ( $a_space_p( $x ) && !$eof() ) {
			$x = $get();
		}
		if ( !$a_space_p( $x ) ) {
			$put( $x );
		}
		return true;
	};
	$symbol = function () use ( &$eof, &$get, &$put, &$parse_error ) {
		if ( $eof() ) {
			return false;
		}
		$x = $get();
		$ret = '';
		if ( !a_symbol_p( $x ) ) {
			$put( $x );
			return false;
		}
		while ( a_symbol_p( $x ) && !$eof() ) {
			$ret += $x;
			$x = $get();
		}
		if ( a_symbol_p( $x ) ) {
			$ret += $x;
		} else {

			$put( $x );
		}
		if ( can_new_symbol_p( $ret ) ) {
			return new_symbol( $ret );
		} else {

			return $parse_error( 'Not Symbol' . $ret );
		}
	};
	$readlist = function () use ( &$eof, &$get, &$put, &$space, &$parse_error, &$null_v ) {
		if ( $eof() ) {
			return false;
		}
		$x = $get();
		if ( $x !== '(' ) {
			$put( $x );
			return false;
		}
		$ret_last = new_hole_do();
		$ret = $ret_last;
		$last_add_do = function ( $val ) use ( &$ret_last ) {
			$ret_last2 = new_hole_do();
			hole_set_do( $ret_last, new_construction( $val, $ret_last2 ) );
			$ret_last = $ret_last2;
		};
		while ( true ) {
			$space();
			if ( $eof() ) {
				return $parse_error();
			}
			$x = $get();
			if ( $x === ')' ) {
				hole_set_do( $ret_last, $null_v );
				return $ret;
			}
			if ( $x === '.' ) {
				$space();
				$e = val();
				hole_set_do( $ret_last, $e );
				$space();
				if ( $eof() ) {
					return $parse_error();
				}
				$x = $get();
				if ( $x !== ')' ) {
					return $parse_error();
				}
				return $ret;
			}
			$put( $x );
			$e = val();
			$last_add_do( $e );
		}
	};
	$data = function () use ( &$eof, &$get, &$put, &$readlist, &$parse_error ) {
		if ( $eof() ) {
			return false;
		}
		$x = $get();
		if ( $x !== '#' ) {
			$put( $x );
			return false;
		}
		$xs = $readlist();
		if ( $xs === false ) {
			return $parse_error();
		}
		if ( !construction_p( $xs ) ) {
			return $parse_error();
		}
		return new_data( construction_head( $xs ), construction_tail( $xs ) );
	};
	$readerror = function () use ( &$eof, &$get, &$put, &$readlist, &$parse_error ) {
		if ( $eof() ) {
			return false;
		}
		$x = $get();
		if ( $x !== '!' ) {
			$put( $x );
			return false;
		}
		$xs = $readlist();
		if ( $xs === false ) {
			return $parse_error();
		}
		if ( !construction_p( $xs ) ) {
			return $parse_error();
		}
		return new_error( construction_head( $xs ), construction_tail( $xs ) );
	};
	$make_read_two = function ( $prefix, $k ) use ( &$eof, &$get, &$put, &$readlist, &$parse_error ) {
		return function () use ( &$eof, &$get, &$prefix, &$put, &$readlist, &$parse_error, &$k ) {
			if ( $eof() ) {
				return false;
			}
			$c = $get();
			if ( $c !== $prefix ) {
				$put( $c );
				return false;
			}
			$xs = $readlist();
			if ( $xs === false ) {
				return $parse_error();
			}
			if ( !construction_p( $xs ) ) {
				return $parse_error();
			}
			$x = construction_tail( $xs );
			if ( !( construction_p( $x ) && null_p( construction_tail( $x ) ) ) ) {
				return $parse_error();
			}
			return $k( construction_head( $xs ), construction_head( $x ) );
		};
	};
	$make_read_three = function ( $prefix, $k ) use ( &$eof, &$get, &$put, &$readlist, &$parse_error ) {
		return function () use ( &$eof, &$get, &$prefix, &$put, &$readlist, &$parse_error, &$k ) {
			if ( $eof() ) {
				return false;
			}
			$c = $get();
			if ( $c !== $prefix ) {
				$put( $c );
				return false;
			}
			$xs = $readlist();
			if ( $xs === false ) {
				return $parse_error();
			}
			if ( !construction_p( $xs ) ) {
				return $parse_error();
			}
			$x = construction_tail( $xs );
			if ( !construction_p( $x ) ) {
				return $parse_error();
			}
			$x_d = construction_tail( $x );
			if ( !( construction_p( $x_d ) && null_p( construction_tail( $x_d ) ) ) ) {
				return $parse_error();
			}
			return $k( construction_head( $xs ), construction_head( $x ), construction_head( $x_d ) );
		};
	};
	$readeval = $make_read_two( '$', function ( $ev, $val ) use ( &$parse_error ) {
			$env = val2env( $ev );
			if ( $env === false ) {
				return $parse_error();
			}
			return evaluate( $env, $val );
		}
	);
	$readfuncapply = $make_read_two( '%', function ( $f, $xs ) use ( &$parse_error ) {
			$jsxs = list_to_jsArray( $xs, function ( $v ) {return  $v; }, function ( $_1, $_2 ) use ( &$parse_error ) {return  $parse_error(); } );
			return builtin_func_apply( $f, $jsxs );
		}
	);
	$readformbuiltin = $make_read_three( '@', function ( $e, $f, $xs ) use ( &$parse_error ) {
			$jsxs = list_to_jsArray( $xs, function ( $v ) {return  $v; }, function ( $_1, $_2 ) use ( &$parse_error ) {return  $parse_error(); } );
			$env = val2env( $e );
			if ( $env === false ) {
				return $parse_error();
			}
			return builtin_form_apply( $env, $f, $jsxs );
		}
	);
	$readapply = $make_read_two( '^', function ( $f, $xs ) use ( &$parse_error ) {
			$jsxs = list_to_jsArray( $xs, function ( $v ) {return  $v; }, function ( $_1, $_2 ) use ( &$parse_error ) {return  $parse_error(); } );
			return apply( $f, $jsxs );
		}
	);
	$a_symbol_p = function ( $chr ) use ( &$a_space_p ) {
		if ( $a_space_p( $chr ) ) {
			return false;
		}
		foreach ( [ '(', ')', '!', '#', '.', '$', '%', '^', '@',
				'~', '/', '-', '>', '_', ':', '?', '[', ']', '&'
			] as $v => $___ ) {


			if ( $v === $chr ) {
				return false;
			}
		}
		return true;
	};
	$val = function () use ( &$space, &$readlist, &$data, &$readerror, &$readeval, &$readfuncapply, &$readformbuiltin, &$readapply, &$parse_error ) {
		$space();
		$fs = [ $readlist, $readsysname, $data, $readerror, $readeval, $readfuncapply, $readformbuiltin, $readapply ];
		for ( $i = 0;  $i < count( $fs );  $i++ ) {
			$x = $fs[ $i ]();
			if ( $x !== false ) {
				return $x;
			}
		}
		return $parse_error();
	};
	return $val();
	$un_maybe = function ( $vl ) use ( &$parse_error ) {
		if ( $vl === false ) {
			return $parse_error();
		}
		return $vl;
	};
	$not_eof = function () use ( &$eof ) {
		return !$eof();
	};
	$assert_get = function ( $c ) use ( &$un_maybe, &$not_eof, &$get ) {
		$un_maybe( $not_eof() );
		$un_maybe( $get() === $c );
	};
	$readsysname_no_pack_inner_must = function ( $strict = false ) use ( &$assert_get, &$readsysname_no_pack_inner_must, &$readlist, &$symbol, &$data, &$readerror, &$readeval, &$readfuncapply, &$readformbuiltin, &$readapply, &$parse_error ) {
		$readsysname_no_pack_bracket = function () use ( &$assert_get, &$readsysname_no_pack_inner_must ) {
			$assert_get( '[' );
			$x = $readsysname_no_pack_inner_must();
			$assert_get( ']' );
			return $x;
		};
		// 重複自val()
		$fs = ( $strict ) ? [ $readlist, $symbol, $readsysname_no_pack_bracket, $data,
			$readerror, $readeval, $readfuncapply, $readformbuiltin, $readapply
		] :
		[ $readlist, $readsysname_no_pack, $data,
			$readerror, $readeval, $readfuncapply, $readformbuiltin, $readapply
		];
		for ( $i = 0;  $i < count( $fs );  $i++ ) {
			$x = $fs[ $i ]();
			if ( $x !== false ) {
				return $x;
			}
		}
		return $parse_error();
	};
	$may_xfx_xf = function ( $vl ) use ( &$eof, &$get, &$readsysname_no_pack_inner_must, &$typeAnnotation_symbol, &$function_symbol, &$something_symbol, &$isOrNot_symbol, &$put, &$sub_symbol ) {
		if ( $eof() ) {
			return $vl;
		}
		$head = $get();
		if ( $head === '.' ) {
			$y = $readsysname_no_pack_inner_must();
			return new_list( $typeAnnotation_symbol, new_list( $function_symbol, new_list( $vl ), $something_symbol ), $y );
		} else
		if ( $head === ':' ) {
			$y = $readsysname_no_pack_inner_must();
			return new_list( $typeAnnotation_symbol, $y, $vl );
		} else
		if ( $head === '~' ) {
			return new_list( $isOrNot_symbol, $vl );
		} else
		if ( $head === '@' ) {
			$y = $readsysname_no_pack_inner_must();
			return new_list( $typeAnnotation_symbol, new_list( $function_symbol, new_construction( $vl, $something_symbol ), $something_symbol ), $y );
		} else
		if ( $head === '?' ) {
			return new_list( $typeAnnotation_symbol, $function_symbol, new_list( $isOrNot_symbol, $vl ) );
		} else
		if ( $head === '/' ) {
			$ys = [ $vl ];
			while ( true ) {
				$y = $readsysname_no_pack_inner_must( true );
				$ys[] = $y;
				if ( $eof() ) {
					break;
				}
				$c0 = $get();
				if ( $c0 !== '/' ) {
					$put( $c0 );
					break;
				}
			}
			return new_list( $sub_symbol, jsArray_to_list( $ys ) );
		} else {

			$put( $head );
			return $vl;
		}
	};
	$readsysname_no_pack = function () use ( &$eof, &$get, &$un_maybe, &$not_eof, &$readsysname_no_pack_inner_must, &$form_symbol, &$system_symbol, &$put, &$assert_get, &$typeAnnotation_symbol, &$function_symbol, &$something_symbol, &$theThing_symbol, &$may_xfx_xf, &$symbol ) {
		if ( $eof() ) {
			return false;
		}
		$head = $get();
		if ( $head === '&' ) {
			$un_maybe( $not_eof() );
			$c0 = $get();
			if ( $c0 === '+' ) {
				$x = $readsysname_no_pack_inner_must();
				return new_list( $form_symbol, new_list( $system_symbol, $x ) );
			} else {

				$put( $c0 );
			}
			$x = $readsysname_no_pack_inner_must();
			return new_list( $form_symbol, $x );
		} else
		if ( $head === ':' ) {
			$un_maybe( $not_eof() );
			$c0 = $get();
			if ( $c0 === '&' ) {
				$assert_get( '>' );
				$x = $readsysname_no_pack_inner_must();
				return new_list( $typeAnnotation_symbol, new_list( $form_symbol, new_list( $function_symbol, $something_symbol, $x ) ), $theThing_symbol );
			} else
			if ( $c0 === '>' ) {
				$x = $readsysname_no_pack_inner_must();
				return new_list( $typeAnnotation_symbol, new_list( $function_symbol, $something_symbol, $x ), $theThing_symbol );
			} else {

				$put( $c0 );
			}
			$x = $readsysname_no_pack_inner_must();
			return new_list( $typeAnnotation_symbol, $x, $theThing_symbol );
		} else
		if ( $head === '+' ) {
			$x = $readsysname_no_pack_inner_must();
			return new_list( $system_symbol, $x );
		} else
		if ( $head === '[' ) {
			$x = $readsysname_no_pack_inner_must();
			$assert_get( ']' );
			return $may_xfx_xf( $x );
		} else
		if ( $head === '_' ) {
			$assert_get( ':' );
			$x = $readsysname_no_pack_inner_must();
			return new_list( $typeAnnotation_symbol, $x, $something_symbol );
		} else {

			$put( $head );
			$x = $symbol();
			if ( $x === false ) {
				return false;
			}
			return $may_xfx_xf( $x );
		}
	};
	$readsysname = function () use ( &$readsysname_no_pack ) {
		$x = $readsysname_no_pack();
		if ( $x === false ) {
			return false;
		}
		if ( symbol_p( $x ) ) {
			return $x;
		}
		return systemName_make( $x );
	};
}

// 註疏系統WIP
function complex_print( $val ) {
	global $typeAnnotation_symbol;
	global $function_symbol;
	global $something_symbol;
	global $theThing_symbol;
	global $isOrNot_symbol;
	global $form_symbol;
	global $system_symbol;
	global $sub_symbol;
	global $name_symbol;
	$print_sys_name = function ( $x, $where ) use ( &$typeAnnotation_symbol, &$function_symbol, &$something_symbol, &$print_sys_name, &$theThing_symbol, &$isOrNot_symbol, &$form_symbol, &$system_symbol, &$sub_symbol ) {
		// 是 complex_print(systemName_make(x))
		// x : LangVal
		// inner : JSBoolean
		if ( symbol_p( $x ) ) {
			return un_symbol( $x );
		}
		$inner_bracket = function ( $vl ) use ( &$where ) {
			// where: 'inner' | 'top'
			if ( $where === 'inner' ) {
				return '[' . $vl . ']';
			} else {
				// where === 'top'
				return $vl;
			}
		};
		$maybe_xs = maybe_list_to_jsArray( $x );
		if ( $maybe_xs !== false && count( $maybe_xs ) === 3 && jsbool_no_force_equal_p( $maybe_xs[ 0 ], $typeAnnotation_symbol ) ) {
			// new_list(typeAnnotation_symbol, maybe_xs[1], maybe_xs[2])
			$maybe_lst_2 = maybe_list_to_jsArray( $maybe_xs[ 1 ] );
			if ( $maybe_lst_2 !== false && count( $maybe_lst_2 ) === 3 && jsbool_no_force_equal_p( $maybe_lst_2[ 0 ], $function_symbol ) ) {
				$var_2_1 = $maybe_lst_2[ 1 ];
				// new_list(typeAnnotation_symbol, new_list(function_symbol, var_2_1, maybe_lst_2[2]), maybe_xs[2])
				$maybe_lst_3 = maybe_list_to_jsArray( $var_2_1 );
				if ( $maybe_lst_3 !== false && count( $maybe_lst_3 ) === 1 && jsbool_no_force_equal_p( $maybe_lst_2[ 2 ], $something_symbol ) ) {
					// new_list(typeAnnotation_symbol, new_list(function_symbol, new_list(maybe_lst_3[0]), something_symbol), maybe_xs[2])
					return $inner_bracket( $print_sys_name( $maybe_lst_3[ 0 ], 'inner' ) . '.' . $print_sys_name( $maybe_xs[ 2 ], 'inner' ) );
				} else
				if ( construction_p( $var_2_1 ) && jsbool_no_force_equal_p( construction_tail( $var_2_1 ), $something_symbol ) && jsbool_no_force_equal_p( $maybe_lst_2[ 2 ], $something_symbol ) ) {
					// new_list(typeAnnotation_symbol, new_list(function_symbol, new_construction(construction_head(var_2_1), something_symbol), something_symbol), maybe_xs[2])
					return $inner_bracket( $print_sys_name( construction_head( $var_2_1 ), 'inner' ) . '@' . $print_sys_name( $maybe_xs[ 2 ], 'inner' ) );
				} else
				if ( jsbool_no_force_equal_p( $var_2_1, $something_symbol ) && jsbool_no_force_equal_p( $maybe_xs[ 2 ], $theThing_symbol ) ) {
					// new_list(typeAnnotation_symbol, new_list(function_symbol, something_symbol, maybe_lst_2[2]), theThing_symbol)
					return $inner_bracket( ':>' . $print_sys_name( $maybe_lst_2[ 2 ], 'inner' ) );
				}
			}
			$maybe_lst_44 = maybe_list_to_jsArray( $maybe_xs[ 2 ] );
			if ( jsbool_no_force_equal_p( $maybe_xs[ 1 ], $function_symbol ) && $maybe_lst_44 !== false && count( $maybe_lst_44 ) === 2 && jsbool_no_force_equal_p( $maybe_lst_44[ 0 ], $isOrNot_symbol ) ) {
				// new_list(typeAnnotation_symbol, function_symbol, new_list(isOrNot_symbol, maybe_lst_44[1]))
				return $inner_bracket( $print_sys_name( $maybe_lst_44[ 1 ], 'inner' ) . '?' );
			}
			if ( $maybe_lst_2 !== false && count( $maybe_lst_2 ) === 2 && jsbool_no_force_equal_p( $maybe_xs[ 2 ], $theThing_symbol ) && jsbool_no_force_equal_p( $maybe_lst_2[ 0 ], $form_symbol ) ) {
				// new_list(typeAnnotation_symbol, new_list(form_symbol, var_2_1), theThing_symbol)
				$maybe_lst_88 = maybe_list_to_jsArray( $maybe_lst_2[ 1 ] );
				if ( $maybe_lst_88 !== false && count( $maybe_lst_88 ) === 3 && jsbool_no_force_equal_p( $maybe_lst_88[ 0 ], $function_symbol ) && jsbool_no_force_equal_p( $maybe_lst_88[ 1 ], $something_symbol ) ) {
					// new_list(typeAnnotation_symbol, new_list(form_symbol, new_list(function_symbol, something_symbol, maybe_lst_88[2])), theThing_symbol)
					return $inner_bracket( ':&>' . $print_sys_name( $maybe_lst_88[ 2 ], 'inner' ) );
				}
			}
			$hd = ( jsbool_no_force_equal_p( $maybe_xs[ 2 ], $something_symbol ) ) ? '_' :
			( jsbool_no_force_equal_p( $maybe_xs[ 2 ], $theThing_symbol ) ) ? '' :
			$print_sys_name( $maybe_xs[ 2 ], 'inner' );
			return $inner_bracket( $hd . ':' . $print_sys_name( $maybe_xs[ 1 ], 'inner' ) );
		} else
		if ( $maybe_xs !== false && count( $maybe_xs ) === 2 ) {
			if ( jsbool_no_force_equal_p( $maybe_xs[ 0 ], $form_symbol ) ) {
				// new_list(form_symbol, maybe_xs[1])
				$maybe_lst_288 = maybe_list_to_jsArray( $maybe_xs[ 1 ] );
				if ( $maybe_lst_288 !== false && count( $maybe_lst_288 ) === 2 && jsbool_no_force_equal_p( $maybe_lst_288[ 0 ], $system_symbol ) ) {
					// new_list(form_symbol, new_list(system_symbol, maybe_lst_288[1]))
					return $inner_bracket( '&+' . $print_sys_name( $maybe_lst_288[ 1 ], 'inner' ) );
				}
				return $inner_bracket( '&' . $print_sys_name( $maybe_xs[ 1 ], 'inner' ) );
			} else
			if ( jsbool_no_force_equal_p( $maybe_xs[ 0 ], $isOrNot_symbol ) ) {
				// new_list(isOrNot_symbol, maybe_xs[1])
				return $inner_bracket( $print_sys_name( $maybe_xs[ 1 ], 'inner' ) . '~' );
			} else
			if ( jsbool_no_force_equal_p( $maybe_xs[ 0 ], $system_symbol ) ) {
				// new_list(system_symbol, maybe_xs[1])
				return $inner_bracket( '+' . $print_sys_name( $maybe_xs[ 1 ], 'inner' ) );
			} else
			if ( jsbool_no_force_equal_p( $maybe_xs[ 0 ], $sub_symbol ) ) {
				// new_list(sub_symbol, maybe_xs[1])
				$maybe_lst_8934 = maybe_list_to_jsArray( $maybe_xs[ 1 ] );
				if ( $maybe_lst_8934 !== false && count( $maybe_lst_8934 ) > 1 ) {
					$tmp = $print_sys_name( $maybe_lst_8934[ 0 ], 'inner' );
					for ( $i = 1;  $i < count( $maybe_lst_8934 );  $i++ ) {
						$tmp += '/' . $print_sys_name( $maybe_lst_8934[ $i ], 'inner' );
					}
					return $inner_bracket( $tmp );
				}
			}
		}
		if ( $where === 'inner' ) {
			return simple_print( $x );
		} else
		if ( $where === 'top' ) {
			return simple_print( systemName_make( $x ) );
		}
		return LANG_ERROR();
	};
	// [[[ 大量重複代碼 simple_print <-> complex_print
	$x = complex_parse( simple_print( $val ) ); // 去除所有just
	$temp = '';
	$prefix = '';
	if ( null_p( $x ) ) {
		return '()';
	} else
	if ( construction_p( $x ) ) {
		$temp = '(';
		$prefix = '';
		while ( construction_p( $x ) ) {
			$temp += $prefix + complex_print( construction_head( $x ) );
			$prefix = ' ';
			$x = construction_tail( $x );
		}
		if ( null_p( $x ) ) {
			$temp += ')';
		} else {

			$temp += ' . ' . complex_print( $x ) . ')';
		}
		return $temp;
	} else
	if ( data_p( $x ) ) {
		$name = data_name( $x );
		$list = data_list( $x );
		$maybe_xs = maybe_list_to_jsArray( $list );
		if ( $maybe_xs !== false && count( $maybe_xs ) === 2 && jsbool_no_force_equal_p( $name, $name_symbol ) && jsbool_no_force_equal_p( $maybe_xs[ 0 ], $system_symbol ) ) {
			// systemName_make(maybe_xs[1])
			return $print_sys_name( $maybe_xs[ 1 ], 'top' );
		}
		return '#' . complex_print( new_construction( $name, $list ) );
	} else
	if ( error_p( $x ) ) {
		return '!' . complex_print( new_construction( error_name( $x ), error_list( $x ) ) );
	} else
	if ( symbol_p( $x ) ) {
		return un_symbol( $x );
	} else
	if ( delay_evaluate_p( $x ) ) {
		return '$(' . complex_print( env2val( delay_evaluate_env( $x ) ) ) . ' ' . complex_print( delay_evaluate_x( $x ) ) . ')';
	} else
	if ( delay_builtin_func_p( $x ) ) {
		return '%(' . complex_print( delay_builtin_func_f( $x ) ) . ' ' . complex_print( jsArray_to_list( delay_builtin_func_xs( $x ) ) ) . ')';
	} else
	if ( delay_builtin_form_p( $x ) ) {
		return '@('
.			complex_print( env2val( delay_builtin_form_env( $x ) ) )
.			' ' . complex_print( delay_builtin_form_f( $x ) )
.			' ' . complex_print( jsArray_to_list( delay_builtin_form_xs( $x ) ) )
.			')';
	} else
	if ( delay_apply_p( $x ) ) {
		return '^(' . complex_print( delay_apply_f( $x ) ) . ' ' . complex_print( jsArray_to_list( delay_apply_xs( $x ) ) ) . ')';
	}
	return LANG_ERROR(); // 大量重複代碼 simple_print <-> complex_print ]]]
}

// 相對獨立的部分。complex parser/complex printer }}}
// {{{ 相對獨立的部分。machinetext parse/print
// 註疏系統WIP
function machinetext_parse( $rawstr ) {
	global $env_null_v;
	global $function_builtin_use_systemName;
	global $evaluate_function_builtin_systemName;
	global $null_v;
	$result = new_hole_do();
	$stack = [ $result ];
	$state = 0;
	$parse_error = function () {
		throw 'MT parse ERROR';
	};
	$parse_assert = function ( $x ) use ( &$parse_error ) {
		if ( !$x ) {
			return $parse_error();
		}
	};
	$get_do = function () use ( &$parse_assert, &$state, &$rawstr ) {
		$parse_assert( count( $rawstr ) > $state );
		$result = $rawstr[ $state ];
		$state++;
		return $result;
	};
	while ( count( $stack ) !== 0 ) {
		$new_stack = [];
		foreach ( $stack as $hol => $___ ) {
			$chr = $get_do();
			$conslike = function ( $c ) use ( &$new_stack, &$hol ) {
				$hol1 = new_hole_do();
				$hol2 = new_hole_do();
				$new_stack[] = $hol1;
				$new_stack[] = $hol2;
				hole_set_do( $hol, $c( $hol1, $hol2 ) );
			};
			if ( $chr === '^' ) {
				$tmp = '';
				while ( true ) {
					$chr = $get_do();
					if ( $chr === '^' ) {
						break;
					}
					$tmp += $chr;
				}
				if ( can_new_symbol_unicodechar_p( $tmp ) ) {
					hole_set_do( $hol, new_symbol_unicodechar( $tmp ) );
				} else {

					return $parse_error();
				}
			} else
			if ( $chr === '.' ) {
				$conslike( $new_construction );
			} else
			if ( $chr === '#' ) {
				$conslike( $new_data );
			} else
			if ( $chr === '!' ) {
				$conslike( $new_error );
			} else
			if ( $chr === '$' ) {
				$conslike( function ( $x, $y ) use ( &$env_null_v, &$function_builtin_use_systemName, &$evaluate_function_builtin_systemName ) {return  evaluate( $env_null_v, new_list( $function_builtin_use_systemName, $evaluate_function_builtin_systemName, make_quote( $x ), make_quote( $y ) ) ); } );
			} else
			if ( $chr === '_' ) {
				hole_set_do( $hol, $null_v );
			} else {

				return $parse_error();
			}
		}
		$stack = $new_stack;
	}
	$parse_assert( $state == count( $rawstr ) );
	return $result;
}

// 註疏系統WIP
// 此print或許可以小幅度修改後用於equal,合理的print無限數據... （廣度優先）
function machinetext_print( $x ) {
	$stack = [ $x ];
	$result = '';
	while ( count( $stack ) !== 0 ) {
		$new_stack = [];
		foreach ( $stack as $x => $___ ) {
			$x = un_just_all( $x );
			$conslike = function ( $xx, $s, $g1, $g2 ) use ( &$new_stack ) {
				$result += $s;
				$new_stack[] = g1( $xx );
				$new_stack[] = g2( $xx );
			};
			if ( symbol_p( $x ) ) {
				$result += '^';
				$result += un_symbol_unicodechar( $x );
				$result += '^';
			} else
			if ( construction_p( $x ) ) {
				$conslike( $x, '.', $construction_head, $construction_tail );
			} else
			if ( null_p( $x ) ) {
				$result += '_';
			} else
			if ( data_p( $x ) ) {
				$conslike( $x, '#', $data_name, $data_list );
			} else
			if ( error_p( $x ) ) {
				$conslike( $x, '!', $error_name, $error_list );
			} else
			if ( any_delay_p( $x ) ) {
				$y = any_delay2delay_evaluate( $x );
				$conslike( $y, '$', ( function ( $vl ) {return  env2val( delay_evaluate_env( $vl ) ); } ), $delay_evaluate_x );
			} else {

				return LANG_ERROR();
			}
		}
		$stack = $new_stack;
	}
	return $result;
}

function trampoline_return( $x ) {
	return function () use ( &$x ) {return  [ false, $x ]; };
}

function trampoline_delay( $x ) {
	return function () use ( &$x ) {return  [ true, $x() ]; };
}

function run_trampoline( $x ) {
	$i = $x();
	while ( $i[ 0 ] ) {
		$i = $i[ 1 ]();
	}
	return $i[ 1 ];
}

$return_effect_systemName = systemName_make( new_construction( $sub_symbol, new_construction( new_construction( $effect_symbol, new_construction( new_construction( $typeAnnotation_symbol, new_construction( $thing_symbol, new_construction( $something_symbol, $null_v ) ) ), $null_v ) ), $null_v ) ) );

$bind_effect_systemName = systemName_make( new_construction( $sub_symbol, new_construction( new_construction( $effect_symbol, new_construction( $construction_symbol, $null_v ) ), $null_v ) ) );

function new_effect_bind( $monad, $func ) {
	global $bind_effect_systemName;
	return new_data( $bind_effect_systemName, new_list( $monad, $func ) );
}

function new_effect_return( $x ) {
	global $return_effect_systemName;
	return new_data( $return_effect_systemName, $x );
}

// 註疏系統WIP
function run_monad_helper( $return_handler, $op_handler, $code, $state, $next = false ) {
	global $return_effect_systemName;
	global $bind_effect_systemName;
	global $function_symbol;
	$make_bind = function ( $x, $f ) {
		throw 'WIP';
	};
	$code = force_all( $code );
	if ( data_p( $code ) ) {
		$name = data_name( $code );
		$list = data_list( $code );
		if ( jsbool_equal_p( $name, $return_effect_systemName ) ) {
			$list = force_all( $list );
			if ( construction_p( $list ) ) {
				$list_a = construction_head( $list );
				$list_d = force_all( construction_tail( $list ) );
				if ( null_p( $list_d ) ) {
					if ( $next === false ) {
						$upval_v = $list_a; // luaj有BUG，只能這樣寫
						$upval_st = $state;
						$r = function () use ( &$return_handler, &$upval_v, &$upval_st ) {return  $return_handler( $upval_v, $upval_st ); };
						return trampoline_delay( $r );
					} else {

						$upval_rt = $return_handler; // luaj有BUG，只能這樣寫
						$upval_op = $op_handler;
						$upval_v = $list_a;
						$upval_st = $state;
						$r = function () use ( &$upval_rt, &$upval_op, &$next, &$upval_v, &$upval_st ) {return  run_monad_helper( $upval_rt, $upval_op, apply( $next, $upval_v ), $upval_st ); };
						return trampoline_delay( $r );
					}
				}
			}
		} else
		if ( jsbool_equal_p( $name, $bind_effect_systemName ) ) {
			$list = force_all( $list );
			if ( construction_p( $list ) ) {
				$list_a = construction_head( $list );
				$list_d = force_all( construction_tail( $list ) );
				if ( construction_p( $list_d ) ) {
					$list_d_a = construction_head( $list_d );
					$list_d_d = force_all( construction_tail( $list_d ) );
					if ( null_p( $list_d_d ) ) {
						if ( $next === false ) {
							$upval_rt = $return_handler; // luaj有BUG，只能這樣寫
							$upval_op = $op_handler;
							$upval_a = $list_a;
							$upval_b = $list_d_a;
							$upval_st = $state;
							$r = function () use ( &$upval_rt, &$upval_op, &$upval_a, &$upval_st, &$upval_b ) {return  run_monad_helper( $upval_rt, $upval_op, $upval_a, $upval_st, $upval_b ); };
							return trampoline_delay( $r );
						} else {

							$upval_rt = $return_handler; // luaj有BUG，只能這樣寫
							$upval_op = $op_handler;
							$upval_a = $list_a;
							$upval_b = $list_d_a;
							$upval_st = $state;
							$upval_nt = $next;
							$x = new_symbol( "序甲" );
							$r = function () use ( &$upval_rt, &$upval_op, &$upval_a, &$upval_st, &$function_symbol, &$x, &$make_bind, &$upval_b, &$upval_nt ) {return  run_monad_helper( $upval_rt, $upval_op, $upval_a, $upval_st, new_data( $function_symbol, new_list( new_list( $x ), $make_bind( new_list( make_quote( $upval_b ), $x ), make_quote( $upval_nt ) ) ) ) ); };
							return trampoline_delay( $r );
						}
					}
				}
			}
		}
	}
	// op
	if ( $next === false ) {
		return trampoline_delay( function () use ( &$op_handler, &$code, &$state, &$return_handler ) {return  $op_handler( $code, $state, $return_handler ); } );
	} else {

		return trampoline_delay( function () use ( &$op_handler, &$code, &$state, &$return_handler, &$next ) {return  $op_handler( $code, $state, function ( $val2, $state2 ) use ( &$return_handler, &$op_handler, &$next ) {return  trampoline_delay( function () use ( &$return_handler, &$op_handler, &$next, &$val2, &$state2 ) {return  run_monad_helper( $return_handler, $op_handler, apply( $next, [ $val2 ] ), $state2 ); } ); } ); } );
	}
}
// 註疏系統WIP
function run_monad_trampoline( $return_handler, $op_handler, $code, $state ) {
	return run_monad_helper( $return_handler, $op_handler, $code, $state );
}

function run_monad_stackoverflow( $return_handler, $op_handler, $code, $state ) {
	return run_trampoline( run_monad_helper( ( function ( $v, $s ) use ( &$return_handler ) {return  trampoline_return( $return_handler( $v, $s ) ); } ), ( function ( $op, $st, $rs ) use ( &$op_handler ) {return  trampoline_return( $op_handler( $op, $st, function ( $v, $s ) use ( &$rs ) {return  run_trampoline( $rs( $v, $s ) ); } ) ); } ), $code, $state ) );
}

function symbols_set_init() { return [ '0' => '0', '1' => '1', '2' => '2', '3' => '3', '4' => '4', '5' => '5', '6' => '6', '7' => '7', '8' => '8', '9' => '9', 'A' => 'A', 'B' => 'B', 'C' => 'C', 'D' => 'D', 'E' => 'E', 'F' => 'F', 'G' => 'G', 'H' => 'H', 'I' => 'I', 'J' => 'J', 'K' => 'K', 'L' => 'L', 'M' => 'M', 'N' => 'N', 'O' => 'O', 'P' => 'P', 'Q' => 'Q', 'R' => 'R', 'S' => 'S', 'T' => 'T', 'U' => 'U', 'V' => 'V', 'W' => 'W', 'X' => 'X', 'Y' => 'Y', 'Z' => 'Z', 'a' => 'a', 'b' => 'b', 'c' => 'c', 'd' => 'd', 'e' => 'e', 'f' => 'f', 'g' => 'g', 'h' => 'h', 'i' => 'i', 'j' => 'j', 'k' => 'k', 'l' => 'l', 'm' => 'm', 'n' => 'n', 'o' => 'o', 'p' => 'p', 'q' => 'q', 'r' => 'r', 's' => 's', 't' => 't', 'u' => 'u', 'v' => 'v', 'w' => 'w', 'x' => 'x', 'y' => 'y', 'z' => 'z', "一類何物" => "㝉", "之物" => "𫙦", "其子" => "𦮪", "出入改滅" => "𢒟", "列序" => "𠜺", "化滅" => "𠏁", "參形" => "𠫰", "吾自" => "𦣹", "太始初核" => "𣝗", "如若" => "𦱡", "宇宙亡矣" => "𨹹", "尾末" => "𡲵", "序丁" => "𠆤", "序丙" => "𠇮", "序乙" => "㐈", "序甲" => "𠇚", "式形" => "佱", "引用" => "㧈", "應用" => "𤰆", "效應" => "効", "映表" => "𤅔", "是非" => "欤", "構物" => "𡒫", "為符名連" => "‐", "特定其物" => "亓", "省略一物" => "畧", "符名" => "謼", "等同" => "弌", "解算" => "筭", "註疏" => "疎", "詞素" => "𧥝", "謬誤" => "䥘", "連頸" => "丩", "間空" => "𣣓", "陰" => "侌", "陽" => "𣆄", "首始" => "𩠐" ];  }
function symbols_set_neg_init() { return [ '0' => '0', '1' => '1', '2' => '2', '3' => '3', '4' => '4', '5' => '5', '6' => '6', '7' => '7', '8' => '8', '9' => '9', 'A' => 'A', 'B' => 'B', 'C' => 'C', 'D' => 'D', 'E' => 'E', 'F' => 'F', 'G' => 'G', 'H' => 'H', 'I' => 'I', 'J' => 'J', 'K' => 'K', 'L' => 'L', 'M' => 'M', 'N' => 'N', 'O' => 'O', 'P' => 'P', 'Q' => 'Q', 'R' => 'R', 'S' => 'S', 'T' => 'T', 'U' => 'U', 'V' => 'V', 'W' => 'W', 'X' => 'X', 'Y' => 'Y', 'Z' => 'Z', 'a' => 'a', 'b' => 'b', 'c' => 'c', 'd' => 'd', 'e' => 'e', 'f' => 'f', 'g' => 'g', 'h' => 'h', 'i' => 'i', 'j' => 'j', 'k' => 'k', 'l' => 'l', 'm' => 'm', 'n' => 'n', 'o' => 'o', 'p' => 'p', 'q' => 'q', 'r' => 'r', 's' => 's', 't' => 't', 'u' => 'u', 'v' => 'v', 'w' => 'w', 'x' => 'x', 'y' => 'y', 'z' => 'z', "㝉" => "一類何物", "𫙦" => "之物", "𦮪" => "其子", "𢒟" => "出入改滅", "𠜺" => "列序", "𠏁" => "化滅", "𠫰" => "參形", "𦣹" => "吾自", "𣝗" => "太始初核", "𦱡" => "如若", "𨹹" => "宇宙亡矣", "𡲵" => "尾末", "𠆤" => "序丁", "𠇮" => "序丙", "㐈" => "序乙", "𠇚" => "序甲", "佱" => "式形", "㧈" => "引用", "𤰆" => "應用", "効" => "效應", "𤅔" => "映表", "欤" => "是非", "𡒫" => "構物", "‐" => "為符名連", "亓" => "特定其物", "畧" => "省略一物", "謼" => "符名", "弌" => "等同", "筭" => "解算", "疎" => "註疏", "𧥝" => "詞素", "䥘" => "謬誤", "丩" => "連頸", "𣣓" => "間空", "侌" => "陰", "𣆄" => "陽", "𩠐" => "首始" ];  }
// !!!Generated by Racket!!! !!!END!!!
// 相對獨立的部分。UUC }}}

