function l(){throw"TheLanguage PANIC";}exports.new_symbol=function(a){return[0,a]};function q(a){return 0===a[0]}exports.symbol_p=q;exports.un_symbol=function(a){return a[1]};function aa(a,b){return[1,a,b]}exports.new_construction=aa;function x(a){return 1===a[0]}exports.construction_p=x;function ba(a){return a[1]}exports.construction_head=ba;function da(a){return a[2]}exports.construction_tail=da;var z=[2];exports.null_v=z;function A(a){return 2===a[0]}exports.null_p=A;
function ea(a,b){return[3,a,b]}exports.new_data=ea;function B(a){return 3===a[0]}exports.data_p=B;function fa(a){return a[1]}exports.data_name=fa;function ha(a){return a[2]}exports.data_list=ha;function ia(a,b){return[4,a,b]}exports.new_error=ia;function C(a){return 4===a[0]}exports.error_p=C;function ja(a){return a[1]}exports.error_name=ja;function ka(a){return a[2]}exports.error_list=ka;function E(a,b){a!==b&&(a[0]=5,a[1]=b,a[2]=!1,a[3]=!1)}exports.evaluate=function(a,b){return[6,a,b]};
function la(a,b){return[7,a,b]}exports.apply=function(a,b){return[9,a,b]};function na(a){a=F(a);if(B(a)){var b=a[1],c=a[2];a[1]=na(b);a[2]=na(c)}else C(a)?(b=a[1],c=a[2],a[1]=na(b),a[2]=na(c)):x(a)&&(b=a[1],c=a[2],a[1]=na(b),a[2]=na(c));return a}exports.force_all_rec=na;var H=[0,"\u592a\u59cb\u521d\u6838"];exports.system_symbol=H;var oa=[0,"\u7b26\u540d"];exports.name_symbol=oa;var J=[0,"\u5316\u6ec5"];exports.function_symbol=J;var K=[0,"\u5f0f\u5f62"];exports.form_symbol=K;var pa=[0,"\u7b49\u540c"];
exports.equal_symbol=pa;var qa=[0,"\u89e3\u7b97"];exports.evaluate_sym=qa;var ra=[0,"\u7279\u5b9a\u5176\u7269"];exports.theThing_symbol=ra;var L=[0,"\u7701\u7565\u4e00\u7269"];exports.something_symbol=L;var sa=[0,"\u6620\u8868"];exports.mapping_symbol=sa;var ta=[0,"\u82e5"];exports.if_symbol=ta;var N=[0,"\u4e00\u985e\u4f55\u7269"];exports.typeAnnotation_symbol=N;var ua=[0,"\u662f\u975e"];exports.isOrNot_symbol=ua;var va=[0,"\u5176\u5b50"];exports.sub_symbol=va;var wa=[0,"\u967d"];
exports.true_symbol=wa;var xa=[0,"\u9670"];exports.false_symbol=xa;var ya=[0,"\u5f15\u7528"];exports.quote_symbol=ya;var za=[0,"\u61c9\u7528"];exports.apply_symbol=za;var Aa=[0,"\u7a7a"];exports.null_symbol=Aa;var Ba=[0,"\u9023"];exports.construction_symbol=Ba;var Ca=[0,"\u69cb"];exports.data_symbol=Ca;var Da=[0,"\u8aa4"];exports.error_symbol=Da;var Ea=[0,"\u8a5e\u7d20"];exports.symbol_symbol=Ea;var Fa=[0,"\u5217"];exports.list_symbol=Fa;var Ga=[0,"\u9996"];exports.head_symbol=Ga;var Ia=[0,"\u5c3e"];
exports.tail_symbol=Ia;var Ja=[0,"\u7269"];exports.thing_symbol=Ja;var Ka=[0,"\u5b87\u5b99\u4ea1\u77e3"];exports.theWorldStopped_symbol=Ka;exports.effect_symbol=[0,"\u6548\u61c9"];exports.sequentialWordFormation_symbol=[0,"\u70ba\u7b26\u540d\u9023"];exports.inputOutput_symbol=[0,"\u51fa\u5165\u6539\u6ec5"];var La=[4,H,O(Ka,L)];function P(a){return[3,oa,O(H,a)]}function Ma(a){return P(O(N,O(J,L,a),ra))}function Oa(a,b){return P(O(N,O(J,O(a),L),b))}function Pa(a){return P(O(N,J,O(ua,O(N,a,L))))}
var Qa=Ma(Ca);exports.new_data_function_builtin_systemName=Qa;var Ra=Oa(Ca,oa);exports.data_name_function_builtin_systemName=Ra;var Sa=Oa(Ca,Fa);exports.data_list_function_builtin_systemName=Sa;var Ta=Pa(Ca);exports.data_p_function_builtin_systemName=Ta;var Ua=Ma(Da);exports.new_error_function_builtin_systemName=Ua;var Va=Oa(Da,oa);exports.error_name_function_builtin_systemName=Va;var Wa=Oa(Da,Fa);exports.error_list_function_builtin_systemName=Wa;var Xa=Pa(Da);
exports.error_p_function_builtin_systemName=Xa;var Ya=Ma(Ba);exports.new_construction_function_builtin_systemName=Ya;var Za=Pa(Ba);exports.construction_p_function_builtin_systemName=Za;var $a=Oa(Ba,Ga);exports.construction_head_function_builtin_systemName=$a;var ab=Oa(Ba,Ia);exports.construction_tail_function_builtin_systemName=ab;var bb=Pa(Ea);exports.symbol_p_function_builtin_systemName=bb;var cb=Pa(Aa);exports.null_p_function_builtin_systemName=cb;var db=P(O(N,J,O(ua,pa)));
exports.equal_p_function_builtin_systemName=db;var eb=P(O(N,O(J,[1,J,L],L),za));exports.apply_function_builtin_systemName=eb;var fb=P(O(N,J,qa));exports.evaluate_function_builtin_systemName=fb;var gb=Oa(Fa,O(N,Ja,L));exports.list_chooseOne_function_builtin_systemName=gb;var hb=P(O(N,J,ta));exports.if_function_builtin_systemName=hb;var jb=P(O(N,K,ya));exports.quote_form_builtin_systemName=jb;var kb=P(O(N,O(K,O(J,L,J)),ra));exports.lambda_form_builtin_systemName=kb;var lb=P(O(K,O(H,J)));
exports.function_builtin_use_systemName=lb;var mb=P(O(K,O(H,K)));exports.form_builtin_use_systemName=mb;var nb=P(O(K,K));exports.form_use_systemName=nb;var ob=[3,xa,O()],pb=[3,wa,O()];function qb(a,b){return a===b?!0:a[1]===b[1]?(E(a,b),!0):!1}function Q(a){for(var b=z,c=a.length-1;0<=c;c--)b=[1,a[c],b];return b}exports.jsArray_to_list=Q;function rb(a,b,c){for(var d=[];x(a);)d.push(a[1]),a=a[2];return A(a)?b(d):c(d,a)}function sb(a){return rb(a,function(b){return b},function(){return!1})}
exports.maybe_list_to_jsArray=sb;function O(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Q(a)}exports.new_list=O;function tb(a){for(var b=[];5===a[0];)b.push(a),a=a[1];for(var c=0;c<b.length;c++)E(b[c],a);return a}function R(a){return 5===a[0]||6===a[0]||8===a[0]||7===a[0]||9===a[0]}exports.delay_p=R;
function F(a,b,c,d){function e(G){E(u,G);for(var I=0;I<d.length;I++)E(d[I],G);return G}function m(){c[1]=!0;return h(La)}function h(G){e(G);return R(G)?(d.push(u),F(G,b,[!1,!1],d)):G}function p(){var G={},I;for(I in n)G[I]=!0;for(I in b)G[I]=!0;return G}void 0===b&&(b={});void 0===c&&(c=[!1,!1]);void 0===d&&(d=[]);for(var n={},u=a;R(u);){a=S(u);if(!0===b[a])return m();if(!0===n[a]){c[0]=!0;if(6===u[0])return m();if(7===u[0]){a=u[1];for(var M=u[2],V=[Ra,Sa,Ta,Va,Wa,Xa,Za,$a,ab,bb,cb],ca=!1,Y=0;Y<V.length;Y++)T(V[Y],
a)&&(ca=!0);if(ca)return 1===M.length||l(),!1===c[1]||l(),M=F(M[0],p(),c),c[1]?h(la(a,[M])):l();if(T(a,db)||T(a,eb)||T(a,fb))return m();if(T(a,hb)&&(3===M.length||l(),!1===c[1]||l(),a=F(M[0],p(),c),c[1]))return h(la(hb,[a,M[1],M[2]]))}else if(8===u[0]||9===u[0])return m();return l()}n[a]=!0;d.push(u);u=U(u)}return e(u)}exports.force_all=F;
function U(a){a=tb(a);5!==a[0]||l();if(6===a[0])var b=ub(a[1],a[2]);else if(8===a[0]){b=a[1];var c=a[2],d=a[3],e=[4,H,O(mb,O(vb(b),c,Q(d)))];b=T(c,jb)?1!==d.length?e:d[0]:T(c,kb)?2!==d.length?e:wb(b,d[0],d[1],e):e}else if(7===a[0])a:{e=a[1];b=a[2];c=[4,H,O(lb,O(e,Q(b)))];for(d=0;d<xb.length;d++)if(T(e,xb[d][0])){e=xb[d][1];if(b.length!==e)break;d=xb[d][2];b=1===e?d(b[0],c):2===e?d(b[0],b[1],c):3===e?d(b[0],b[1],b[2],c):l();break a}b=c}else b=9===a[0]?yb(a[1],a[2]):a;b=tb(b);E(a,b);return b}
exports.force1=U;var zb=[];exports.env_null_v=zb;function Ab(a,b,c){for(var d=[],e=0;e<a.length;e+=2){if(T(a[e+0],b)){d[e+0]=b;d[e+1]=c;for(e+=2;e<a.length;e+=2)d[e+0]=a[e+0],d[e+1]=a[e+1];return d}d[e+0]=a[e+0];d[e+1]=a[e+1]}d[a.length+0]=b;d[a.length+1]=c;return d}exports.env_set=Ab;function Bb(a,b,c){for(var d=0;d<a.length;d+=2)if(T(a[d+0],b))return a[d+1];return c}exports.env_get=Bb;function Cb(a,b){for(var c=0;c<a.length;c+=2)if(T(a[c+0],b))return a[c+1];return l()}
function vb(a){for(var b=z,c=0;c<a.length;c+=2)b=[1,O(a[c+0],a[c+1]),b];return[3,sa,O(b)]}exports.env2val=vb;function Eb(a,b){for(var c=0;c<a.length;c+=2)b(a[c+0],a[c+1])}exports.env_foreach=Eb;
function Fb(a){a=F(a);if(!B(a))return!1;var b=F(a[1]);if(!q(b)||!qb(b,sa))return!1;b=F(a[2]);if(!x(b)||!A(F(b[2])))return!1;a=[];for(b=F(b[1]);!A(b);){if(!x(b))return!1;var c=F(b[1]);b=F(b[2]);if(!x(c))return!1;var d=c[1];c=F(c[2]);if(!x(c))return!1;var e=c[1];if(!A(F(c[2])))return!1;c=!0;for(var m=0;m<a.length;m+=2)if(T(a[m+0],d)){a[m+1]=e;c=!1;break}c&&(a.push(d),a.push(e))}return a}exports.val2env=Fb;
function ub(a,b){var c=U(b);if(R(c))return[6,a,c];var d=[4,H,O(lb,O(fb,O(vb(a),c)))];if(x(c)){for(var e=[],m=c;!A(m);){if(R(m))return[6,a,c];if(x(m))e.push(m[1]),m=U(m[2]);else return d}if(T(e[0],mb)){if(1===e.length)return d;m=e[1];c=[];for(d=2;d<e.length;d++)c[d-2]=e[d];return[8,a,m,c]}if(T(e[0],nb)){if(1===e.length)return d;m=F([6,a,e[1]]);if(!B(m))return d;var h=U(m[1]);if(R(h))return[6,a,c];if(!q(h)||!qb(h,K))return d;h=U(m[2]);if(R(h))return[6,a,c];if(!x(h))return d;m=h[1];h=U(h[2]);if(R(h))return[6,
a,c];if(!A(h))return d;c=[vb(a)];for(d=2;d<e.length;d++)c[d-1]=e[d];return[9,m,c]}if(T(e[0],lb)){if(1===e.length)return d;m=e[1];c=[];for(d=2;d<e.length;d++)c[d-2]=[6,a,e[d]];return[7,m,c]}m=[6,a,e[0]];c=[];for(d=1;d<e.length;d++)c[d-1]=[6,a,e[d]];return[9,m,c]}return A(c)?c:q(c)||B(c)?Bb(a,c,d):C(c)?d:l()}function Gb(a,b){return[a,1,function(c){c=U(c);return R(c)?la(a,[c]):b(c)?pb:ob}]}function Hb(a,b,c){return[a,1,function(d,e){d=U(d);return R(d)?la(a,[d]):b(d)?c(d):e}]}
var xb=[Gb(Ta,B),[Qa,2,ea],Hb(Ra,B,fa),Hb(Sa,B,ha),Gb(Xa,C),[Ua,2,ia],Hb(Va,C,ja),Hb(Wa,C,ka),Gb(cb,A),[Ya,2,aa],Gb(Za,x),Hb($a,x,ba),Hb(ab,x,da),[db,2,function(a,b){function c(d,e,m,h){m=la(db,[m(d),m(e)]);d=la(db,[h(d),h(e)]);return la(hb,[m,d,ob])}if(a===b)return pb;a=U(a);b=U(b);if(R(a)||R(b))return la(db,[a,b]);if(a===b)return pb;!R(a)||l();return A(a)?A(a)?pb:ob:q(a)?q(b)?qb(a,b)?pb:ob:ob:B(a)?B(b)?c(a,b,fa,ha):ob:x(a)?x(b)?c(a,b,ba,da):ob:C(a)?C(b)?c(a,b,ja,ka):ob:l()}],[eb,2,function(a,b,
c){var d=[];for(b=F(b);x(b);)d.push(b[1]),b=F(b[2]);return A(b)?[9,a,d]:c}],[fb,2,function(a,b,c){a=Fb(a);return!1===a?c:[6,a,b]}],Gb(bb,q),[gb,1,function(a,b){a=U(a);return R(a)?la(gb,[a]):x(a)?a[1]:b}],[hb,3,function(a,b,c,d){a=U(a);if(R(a))return la(hb,[a,b,c]);if(!B(a))return d;a=F(a[1]);return q(a)?qb(a,wa)?b:qb(a,xa)?c:d:d}]];
function yb(a,b){function c(){return[4,H,O(lb,O(eb,O(a,Q(b))))]}a=U(a);if(R(a))return[9,a,b];if(!B(a))return c();var d=F(a[1]);if(!q(d)||!qb(d,J))return c();var e=F(a[2]);if(!x(e))return c();d=na(e[1]);e=F(e[2]);if(!x(e)||!A(F(e[2])))return c();e=e[1];for(var m=zb,h=0;!A(d);)if(q(d)||B(d)){for(var p=z,n=b.length-1;n>=h;n--)p=[1,b[n],p];m=Ab(m,d,p);h=b.length;d=z}else if(x(d))if(h<b.length)p=b[h],h++,m=Ab(m,d[1],p),d=d[2];else return c();else return c();return b.length!==h?c():[6,m,e]}
function wb(a,b,c,d){void 0===d&&(d=!1);b=na(b);for(var e=[],m=!1,h=b;!A(h);)if(q(h)||B(h))e.push(h),m=!0,h=z;else if(x(h))e.push(h[1]),h=h[2];else return!1===d?ia(H,O(mb,O(vb(a),kb,Q([b,c])))):d;d=b;m&&(d=Q(e));var p=[];Eb(a,function(n){for(var u=0;u<e.length;u++)if(T(e[u],n))return;p.push(n)});m=d;for(h=p.length-1;0<=h;h--)m=[1,p[h],m];for(h=p.length-1;0<=h;h--)d=aa(O(mb,jb,Cb(a,p[h])),d);return[3,J,O(b,[1,O(mb,jb,[3,J,O(m,c)]),d])]}
function T(a,b){function c(d,e,m,h){return T(m(d),m(e))&&T(h(d),h(e))?(E(d,e),!0):!1}if(a===b)return!0;a=F(a);b=F(b);if(a===b)return!0;if(A(a)){if(!A(b))return!1;E(a,z);E(b,z);return!0}return q(a)?q(b)?qb(a,b):!1:x(a)?x(b)?c(a,b,ba,da):!1:C(a)?C(b)?c(a,b,ja,ka):!1:B(a)?B(b)?c(a,b,fa,ha):!1:l()}exports.equal_p=T;
function W(a,b){function c(d,e,m,h){return W(m(d),m(e))&&W(h(d),h(e))?(E(d,e),!0):!1}if(a===b)return!0;a=tb(a);b=tb(b);if(a===b)return!0;if(A(a)){if(!A(b))return!1;E(a,z);E(b,z);return!0}return q(a)?q(b)?qb(a,b):!1:x(a)?x(b)?c(a,b,ba,da):!1:C(a)?C(b)?c(a,b,ja,ka):!1:B(a)?B(b)?c(a,b,fa,ha):!1:6===a[0]||7===a[0]||8===a[0]||9===a[0]?!1:l()}
function S(a){a=tb(a);var b;if(A(a))return"()";if(x(a)){var c="(";for(b="";x(a);)c+=b+S(a[1]),b=" ",a=tb(a[2]);return c=A(a)?c+")":c+(" . "+S(a)+")")}return B(a)?"#"+S([1,a[1],a[2]]):C(a)?"!"+S([1,a[1],a[2]]):q(a)?a[1]:6===a[0]?"$("+S(vb(a[1]))+" "+S(a[2])+")":7===a[0]?"%("+S(a[1])+" "+S(Q(a[2]))+")":8===a[0]?"@("+S(vb(a[1]))+" "+S(a[2])+" "+S(Q(a[3]))+")":9===a[0]?"^("+S(a[1])+" "+S(Q(a[2]))+")":l()}exports.simple_print=S;exports.simple_print_force_all_rec=function(a){return S(na(a))};
function Ib(a){function b(){return G.length===I}function c(){!b()||l();var k=G[I];I++;return k}function d(k){G[I-1]===k||l();I--}function e(){throw"TheLanguage parse ERROR!";}function m(k){return" "===k||"\n"===k||"\t"===k||"\r"===k}function h(){if(b())return!1;var k=c();if(!m(k))return d(k),!1;for(;m(k)&&!b();)k=c();m(k)||d(k);return!0}function p(){if(b())return!1;var k=c(),v="";if(!ca(k))return d(k),!1;for(;ca(k)&&!b();)v+=k,k=c();ca(k)?v+=k:d(k);return[0,v]}function n(){function k(f){if(D===t)D=
f;else{for(var r=D;;){if(!x(r))return l();if(r[2]===t)break;r=r[2]}if(!x(r)||r[2]!==t)return l();r[2]=f}}if(b())return!1;var v=c();if("("!==v)return d(v),!1;for(var t=[0,"!!@@READ||HOLE@@!!"],D=t;;){h();if(b())return e();v=c();if(")"===v)return k(z),D;if("."===v){h();v=Y();k(v);h();if(b())return e();v=c();return")"!==v?e():D}d(v);v=Y();k([1,v,t])}}function u(){if(b())return!1;var k=c();if("#"!==k)return d(k),!1;k=n();return!1!==k&&x(k)?[3,k[1],k[2]]:e()}function M(){if(b())return!1;var k=c();if("!"!==
k)return d(k),!1;k=n();return!1!==k&&x(k)?[4,k[1],k[2]]:e()}function V(k,v){return function(){if(b())return!1;var t=c();if(t!==k)return d(t),!1;t=n();if(!1===t||!x(t))return e();var D=t[2];return x(D)&&A(D[2])?v(t[1],D[1]):e()}}function ca(k){if(m(k))return!1;for(var v="()!#.$%^@~/->_:?[]&".split(""),t=0;t<v.length;t++)if(k===v[t])return!1;return!0}function Y(){h();for(var k=[n,p,u,M,Na,ib,Ha,ma],v=0;v<k.length;v++){var t=k[v]();if(!1!==t)return t}return e()}var G=a,I=0,Na=V("$",function(k,v){var t=
Fb(k);return!1===t?e():[6,t,v]}),ib=V("%",function(k,v){var t=rb(v,function(D){return D},function(){return e()});return[7,k,t]}),Ha=function(k,v){return function(){if(b())return!1;var t=c();if(t!==k)return d(t),!1;t=n();if(!1===t||!x(t))return e();var D=t[2];if(!x(D))return e();var f=D[2];return x(f)&&A(f[2])?v(t[1],D[1],f[1]):e()}}("@",function(k,v,t){t=rb(t,function(D){return D},function(){return e()});k=Fb(k);return!1===k?e():[8,k,v,t]}),ma=V("^",function(k,v){var t=rb(v,function(D){return D},
function(){return e()});return[9,k,t]});return Y()}exports.simple_parse=Ib;
exports.complex_parse=function(a){function b(){return Ha.length===ma}function c(){!b()||l();var f=Ha[ma];ma++;return f}function d(f){Ha[ma-1]===f||l();ma--}function e(){throw"TheLanguage parse ERROR!";}function m(f){return" "===f||"\n"===f||"\t"===f||"\r"===f}function h(){if(b())return!1;var f=c();if(!m(f))return d(f),!1;for(;m(f)&&!b();)f=c();m(f)||d(f);return!0}function p(){if(b())return!1;var f=c(),r="";if(!ca(f))return d(f),!1;for(;ca(f)&&!b();)r+=f,f=c();ca(f)?r+=f:d(f);return[0,r]}function n(){function f(y){if(w===
g)w=y;else{for(var Z=w;;){if(!x(Z))return l();if(Z[2]===g)break;Z=Z[2]}if(!x(Z)||Z[2]!==g)return l();Z[2]=y}}if(b())return!1;var r=c();if("("!==r)return d(r),!1;for(var g=[0,"!!@@READ||HOLE@@!!"],w=g;;){h();if(b())return e();r=c();if(")"===r)return f(z),w;if("."===r){h();r=Y();f(r);h();if(b())return e();r=c();return")"!==r?e():w}d(r);r=Y();f([1,r,g])}}function u(){if(b())return!1;var f=c();if("#"!==f)return d(f),!1;f=n();return!1!==f&&x(f)?[3,f[1],f[2]]:e()}function M(){if(b())return!1;var f=c();
if("!"!==f)return d(f),!1;f=n();return!1!==f&&x(f)?[4,f[1],f[2]]:e()}function V(f,r){return function(){if(b())return!1;var g=c();if(g!==f)return d(g),!1;g=n();if(!1===g||!x(g))return e();var w=g[2];return x(w)&&A(w[2])?r(g[1],w[1]):e()}}function ca(f){if(m(f))return!1;for(var r="()!#.$%^@~/->_:?[]&".split(""),g=0;g<r.length;g++)if(f===r[g])return!1;return!0}function Y(){h();for(var f=[n,ib,u,M,k,v,t,D],r=0;r<f.length;r++){var g=f[r]();if(!1!==g)return g}return e()}function G(f){return!1===f?e():f}
function I(f){G(!b());G(c()===f)}function Na(){function f(w){function y(){I("[");var Jb=f();I("]");return Jb}void 0===w&&(w=!1);w=w?[n,p,y,u,M,k,v,t,D]:[n,Na,u,M,k,v,t,D];for(var Z=0;Z<w.length;Z++){var Db=w[Z]();if(!1!==Db)return Db}return e()}function r(w){if(b())return w;var y=c();if("."===y)return y=f(),O(N,O(J,O(w),L),y);if(":"===y)return y=f(),O(N,y,w);if("~"===y)return O(ua,w);if("@"===y)return y=f(),O(N,O(J,[1,w,L],L),y);if("?"===y)return O(N,J,O(ua,w));if("/"===y){for(w=[w];;){y=f(!0);w.push(y);
if(b())break;y=c();if("/"!==y){d(y);break}}return O(va,Q(w))}d(y);return w}if(b())return!1;var g=c();if("&"===g){G(!b());g=c();if("+"===g)return g=f(),O(K,O(H,g));d(g);g=f();return O(K,g)}if(":"===g){G(!b());g=c();if("&"===g)return I(">"),g=f(),O(N,O(K,O(J,L,g)),ra);if(">"===g)return g=f(),O(N,O(J,L,g),ra);d(g);g=f();return O(N,g,ra)}if("+"===g)return g=f(),O(H,g);if("["===g)return g=f(),I("]"),r(g);if("_"===g)return I(":"),g=f(),O(N,g,L);d(g);g=p();return!1===g?!1:r(g)}function ib(){var f=Na();return!1===
f?!1:q(f)?f:P(f)}var Ha=a,ma=0,k=V("$",function(f,r){var g=Fb(f);return!1===g?e():[6,g,r]}),v=V("%",function(f,r){var g=rb(r,function(w){return w},function(){return e()});return[7,f,g]}),t=function(f,r){return function(){if(b())return!1;var g=c();if(g!==f)return d(g),!1;g=n();if(!1===g||!x(g))return e();var w=g[2];if(!x(w))return e();var y=w[2];return x(y)&&A(y[2])?r(g[1],w[1],y[1]):e()}}("@",function(f,r,g){g=rb(g,function(w){return w},function(){return e()});f=Fb(f);return!1===f?e():[8,f,r,g]}),
D=V("^",function(f,r){var g=rb(r,function(w){return w},function(){return e()});return[9,f,g]});return Y()};
function X(a){function b(e,m){function h(V){return"inner"===m?"["+V+"]":"top"===m?V:l()}if(q(e))return e[1];var p=sb(e);if(!1!==p&&3===p.length&&W(p[0],N)){var n=sb(p[1]);if(!1!==n&&3===n.length&&W(n[0],J)){var u=n[1],M=sb(u);if(!1!==M&&1===M.length&&W(n[2],L))return h(b(M[0],"inner")+"."+b(p[2],"inner"));if(x(u)&&W(u[2],L)&&W(n[2],L))return h(b(u[1],"inner")+"@"+b(p[2],"inner"));if(W(u,L)&&W(p[2],ra))return h(":>"+b(n[2],"inner"))}u=sb(p[2]);if(W(p[1],J)&&!1!==u&&2===u.length&&W(u[0],ua))return h(b(u[1],
"inner")+"?");if(!1!==n&&2===n.length&&W(p[2],ra)&&W(n[0],K)&&(n=sb(n[1]),!1!==n&&3===n.length&&W(n[0],J)&&W(n[1],L)))return h(":&>"+b(n[2],"inner"));n=W(p[2],L)?"_":W(p[2],ra)?"":b(p[2],"inner");return h(n+":"+b(p[1],"inner"))}if(!1!==p&&2===p.length){if(W(p[0],K))return n=sb(p[1]),!1!==n&&2===n.length&&W(n[0],H)?h("&+"+b(n[1],"inner")):h("&"+b(p[1],"inner"));if(W(p[0],ua))return h(b(p[1],"inner")+"~");if(W(p[0],H))return h("+"+b(p[1],"inner"));if(W(p[0],va)&&(p=sb(p[1]),!1!==p&&1<p.length)){n=b(p[0],
"inner");for(u=1;u<p.length;u++)n+="/"+b(p[u],"inner");return h(n)}}return"inner"===m?S(e):"top"===m?S(P(e)):l()}a=Ib(S(a));var c="",d="";if(A(a))return"()";if(x(a)){c="(";for(d="";x(a);)c+=d+X(a[1]),d=" ",a=a[2];return c=A(a)?c+")":c+(" . "+X(a)+")")}return B(a)?(c=a[1],a=a[2],d=sb(a),!1!==d&&2===d.length&&W(c,oa)&&W(d[0],H)?b(d[1],"top"):"#"+X([1,c,a])):C(a)?"!"+X([1,a[1],a[2]]):q(a)?a[1]:6===a[0]?"$("+X(vb(a[1]))+" "+X(a[2])+")":7===a[0]?"%("+X(a[1])+" "+X(Q(a[2]))+")":8===a[0]?"@("+X(vb(a[1]))+
" "+X(a[2])+" "+X(Q(a[3]))+")":9===a[0]?"^("+X(a[1])+" "+X(Q(a[2]))+")":l()}exports.complex_print=X;
